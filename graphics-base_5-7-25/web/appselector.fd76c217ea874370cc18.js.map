{"version":3,"file":"appselector.fd76c217ea874370cc18.js","mappings":"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","sources":["webpack://wdu-web/./src/appselector.scss","webpack://wdu-web/./node_modules/css-loader/dist/runtime/api.js","webpack://wdu-web/./node_modules/css-loader/dist/runtime/getUrl.js","webpack://wdu-web/./node_modules/css-loader/dist/runtime/noSourceMaps.js","webpack://wdu-web/./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js","webpack://wdu-web/./node_modules/style-loader/dist/runtime/insertBySelector.js","webpack://wdu-web/./node_modules/style-loader/dist/runtime/insertStyleElement.js","webpack://wdu-web/./node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js","webpack://wdu-web/./node_modules/style-loader/dist/runtime/styleDomAPI.js","webpack://wdu-web/./node_modules/style-loader/dist/runtime/styleTagTransform.js","webpack://wdu-web/webpack/bootstrap","webpack://wdu-web/webpack/runtime/compat get default export","webpack://wdu-web/webpack/runtime/define property getters","webpack://wdu-web/webpack/runtime/hasOwnProperty shorthand","webpack://wdu-web/webpack/runtime/publicPath","webpack://wdu-web/webpack/runtime/jsonp chunk loading","webpack://wdu-web/webpack/runtime/nonce","webpack://wdu-web/./src/appselector.scss?f9be","webpack://wdu-web/./node_modules/tslib/tslib.es6.js","webpack://wdu-web/./src/infrastructure/log.ts","webpack://wdu-web/./src/infrastructure/communication/web-socket-manager.ts","webpack://wdu-web/./src/infrastructure/communication/protocol.ts","webpack://wdu-web/./src/infrastructure/signals/expression-type.ts","webpack://wdu-web/./src/infrastructure/communication/communication-handler.ts","webpack://wdu-web/./src/infrastructure/signals/signal-info-type.ts","webpack://wdu-web/./src/infrastructure/settings-reader.ts","webpack://wdu-web/./src/infrastructure/timer.ts","webpack://wdu-web/./src/infrastructure/file-load-helper.ts","webpack://wdu-web/./src/infrastructure/communication/web-socket-content-decoder.ts","webpack://wdu-web/./src/infrastructure/url-helper.ts","webpack://wdu-web/./src/modules/graphics/helpers.ts","webpack://wdu-web/./src/modules/app-selector/app-selector-link-timer.ts","webpack://wdu-web/./src/modules/app-selector/application-item.ts","webpack://wdu-web/./node_modules/uuid/dist/esm-browser/native.js","webpack://wdu-web/./node_modules/uuid/dist/esm-browser/rng.js","webpack://wdu-web/./node_modules/uuid/dist/esm-browser/stringify.js","webpack://wdu-web/./node_modules/uuid/dist/esm-browser/v4.js","webpack://wdu-web/./src/modules/app-selector/app-handler.ts","webpack://wdu-web/./src/infrastructure/netlist-checksum-handler.ts","webpack://wdu-web/./src/modules/graphics/page-overlays.ts","webpack://wdu-web/./src/appselector.ts","webpack://wdu-web/./src/modules/app-selector/app-selector-bootstrapper.ts"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___ from \"../node_modules/css-loader/dist/runtime/noSourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../node_modules/css-loader/dist/runtime/api.js\";\nimport ___CSS_LOADER_GET_URL_IMPORT___ from \"../node_modules/css-loader/dist/runtime/getUrl.js\";\nvar ___CSS_LOADER_URL_IMPORT_0___ = new URL(\"../fonts/GARMINDEJAVUSANS_0.TTF\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_1___ = new URL(\"../images/checkbox-unchecked.svg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_2___ = new URL(\"../images/checkbox-checked.svg\", import.meta.url);\nvar ___CSS_LOADER_URL_IMPORT_3___ = new URL(\"../images/cog.svg\", import.meta.url);\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_NO_SOURCEMAP_IMPORT___);\nvar ___CSS_LOADER_URL_REPLACEMENT_0___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_0___);\nvar ___CSS_LOADER_URL_REPLACEMENT_1___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_1___);\nvar ___CSS_LOADER_URL_REPLACEMENT_2___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_2___);\nvar ___CSS_LOADER_URL_REPLACEMENT_3___ = ___CSS_LOADER_GET_URL_IMPORT___(___CSS_LOADER_URL_IMPORT_3___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, \"@font-face{font-family:\\\"DejaVu Sans\\\";src:url(\" + ___CSS_LOADER_URL_REPLACEMENT_0___ + \") format(\\\"truetype\\\")}html{visibility:visible !important}body{margin:0;background-color:#000000;overflow:hidden;font-family:\\\"DejaVu Sans\\\", sans-serif}html,body{user-select:none;-webkit-user-drag:none;-webkit-touch-callout:none;-webkit-user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-tap-highlight-color:transparent}img:not([src]),img[src=\\\"\\\"]{display:none}.page-collection{position:fixed;transform:translate(-50%, -50%);top:50%;left:50%}.page{clip-path:inset(0 0 0 0);-webkit-clip-path:inset(0 0 0 0);width:100%;height:100%}.component{position:absolute;user-select:none;-webkit-user-drag:none;-webkit-user-select:none;-webkit-touch-callout:none}.component img{width:100%;height:100%;position:absolute;transform:translateZ(0px);outline:1px solid transparent}.component.button img{position:absolute}.component.gauge>canvas{position:absolute}.gauge-animation{-webkit-transition:all 0.25s ease-in-out;-moz-transition:all 0.25s ease-in-out;-o-transition:all 0.25s ease-in-out;transition:all 0.25s ease-in-out}.component.gauge>img.gauge-overlay{position:absolute}.component.indicator{pointer-events:none}.component.indicator>img{pointer-events:auto}.component.indicator.allow-click-through>img{pointer-events:none}.levelgauge-animation{-webkit-transition:clip 0.25s ease-in;-moz-transition:clip 0.25s ease-in;-o-transition:clip 0.25s ease-in;transition:clip 0.25s ease-in}.notransition *{-webkit-transition:none !important;-moz-transition:none !important;-o-transition:none !important;transition:none !important}.levelgauge-leveltracker-animation{-webkit-transition:bottom 0.25s ease-in;-moz-transition:bottom 0.25s ease-in;-o-transition:bottom 0.25s ease-in;transition:bottom 0.25s ease-in}.component.levelgauge>div.levelgauge-level{width:100%;height:100%;bottom:0px;position:absolute}.component.levelgauge>div.levelgauge-level>img.levelgauge-levelimage .component.levelgauge>div.levelgauge-level>img.levelgauge-levelimage-low-threshold,.component.levelgauge>div.levelgauge-level>img.levelgauge-levelimage-high-threshold{width:100%;height:100%;position:relative}.component.button>img.img.navigationbutton-image{z-index:0}.component.button>img.img.navigationbutton-imagepressed{z-index:10}.component.signalvalue{overflow:hidden;display:table;table-layout:fixed;white-space:nowrap}.signalvalue-inner{display:table-cell}div.signalvalue-inner>div{display:inline;font-kerning:none}.component.textbox{overflow:hidden;display:table;table-layout:fixed;white-space:nowrap}.component.textbox>div{white-space:pre;font-kerning:none;display:table-cell}.text-halign-left{text-align:left}.text-halign-center{text-align:center}.text-halign-right{text-align:right}.text-valign-top{vertical-align:top}.text-valign-middle{vertical-align:middle}.text-valign-bottom{vertical-align:bottom}.hidden{display:none !important}.test-warning-message{background-color:#0000;z-index:500;position:fixed;font-size:1vw;text-align:center;top:2rem;margin-top:2rem;padding:1rem;color:#f00;border:0.2vw solid #f00;border-radius:0.5rem;left:50%;transform:translateX(-50%)}.checksum-warning-message{background-color:#0000;z-index:500;position:fixed;font-size:1vw;text-align:center;bottom:2rem;margin-bottom:2rem;padding:1rem;color:#f00;border:0.2vw solid #f00;border-radius:0.5rem;left:50%;transform:translateX(-50%)}@media (min-aspect-ratio: 800 / 200){.test-warning-message{position:absolute;top:0;right:0;border:0;margin:auto;height:10px;font-size:0.6rem}.checksum-warning-message{position:absolute;bottom:0;right:0;border:0;margin:auto;height:10px;font-size:0.6rem}}.test-warning-message:empty{display:none}.overlay{background:black;width:100%;height:100%;z-index:500;position:fixed;top:0;left:0}.overlay .overlay-text{font-size:4vh;text-align:center;color:#888}@media (min-aspect-ratio: 800 / 200){.overlay .overlay-text{font-size:1rem}}.overlay-reload{opacity:1;animation-name:fadeInOpacity;animation-iteration-count:1;animation-timing-function:ease-in;animation-duration:1s}@keyframes fadeInOpacity{0%{opacity:0}100%{opacity:1}}.overlay .checksum-warning{font-size:2.0vw;margin-top:5vh;text-align:center;color:#f00;z-index:501}@media (min-aspect-ratio: 800 / 200){.overlay .checksum-warning{background:#000;text-align:center;position:absolute;top:0;height:100%;width:100%;padding-top:15vh;font-size:1.1vw}}.allow-click-through{pointer-events:none}.external-page{height:100%;width:100%;position:absolute;z-index:100}.external-page-navigation-back{font-size:1.0vw;background-image:linear-gradient(to bottom, #a7afb6, #55636e 5%, #55636e 50%, #282e33 100%);display:block;color:#fff;text-decoration:none;text-shadow:1px 1px #333;padding:0.5rem 2rem;border:1px solid #333435;border-radius:0.3rem;box-shadow:0px 0px 5px -2px #888888}.external-page-iframe{height:100%;width:100%}.external-page-status{height:100%;width:100%;background-color:#000;position:fixed}.external-page-status .external-page-status-text{font-size:2.5vw;text-align:center;margin-top:45vh;color:#fff}.component.indicator.allow-click-through{pointer-events:none}.animated-loader-outer{text-align:center;margin-top:45vh;margin-bottom:4vh}@media (min-aspect-ratio: 800 / 200){.animated-loader-outer{margin-top:25vh}}.animated-loader{display:inline-block;width:10vh;height:10vh}@media (min-aspect-ratio: 800 / 200){.animated-loader{width:1rem;height:1rem}}.animated-loader:after{content:\\\" \\\";display:block;width:7vh;height:7vh;margin:0;border-radius:50%;border:0.2rem solid #888;border-color:#888 transparent #888 transparent;animation:animated-loader 1.0s linear infinite}@media (min-aspect-ratio: 800 / 200){.animated-loader:after{width:0.8rem;height:0.8rem;border:0.15rem solid #888;border-color:#888 transparent #888 transparent}}@keyframes animated-loader{0%{transform:rotate(0deg)}25%{transform:rotate(90deg)}50%{transform:rotate(270deg)}100%{transform:rotate(360deg)}}::-webkit-scrollbar{-webkit-appearance:none;width:8px}::-webkit-scrollbar-track{background-color:rgba(57,57,57,0.6);border-radius:8px}::-webkit-scrollbar-thumb{border-radius:8px;background-color:rgba(156,156,156,0.6)}.app-selector-link-timer-dialog{z-index:1010;position:fixed;background-color:rgba(255,255,255,0);top:0;right:0;bottom:0;left:0;pointer-events:none;transition:all 2.0s}.app-selector-link-timer-dialog>div{width:38vh;position:absolute;top:50%;left:50%;transform:translate(-50%, -50%);padding:2vh;background:white;pointer-events:auto;background-color:#161616;border:0.01vh solid #444}.app-selector-link-timer-dialog-button{display:inline-block;background:#737373;color:#e2e2e2;padding:0vh;margin:0 0 1.0vh 0;box-sizing:border-box !important;text-decoration:none;cursor:pointer;width:100%;font-size:4vh;height:10vh;vertical-align:middle;border-top:0.15vh solid #ababab;border-bottom:0.1vh solid #000000;pointer-events:auto !important}.app-selector-link-timer{display:inline-block;width:28vh;height:28vh;z-index:1000;position:fixed;transform:translate(-50%, -50%)}.app-selector-link-timer-progress-bar{stroke-dasharray:296 296;stroke-dashoffset:296;animation:grow 10s linear infinite, fade-in 10s}@keyframes grow{100%{stroke-dashoffset:0}}@keyframes fade-in{0%{opacity:0}20%{opacity:0}50%{opacity:0.5}100%{opacity:0.5}}.log-view{position:fixed;z-index:9989;color:white;background-color:black;top:0;left:0;width:100%;height:100%;display:block;overflow:hidden;font-size:x-large;opacity:0.8}.log-view-minimized{height:45px !important}.log-view-content{padding:15px;overflow-y:scroll;height:90vh;width:100vw;word-wrap:break-word}.maximize-log-button{position:absolute;right:0;top:0;padding:8px;z-index:9989;display:none}.log-button{float:right;padding:8px;margin-right:15px;margin-top:0px}body{overflow-x:hidden;overflow-y:auto;height:100vh}.hidden{display:none}.application-selector{padding-top:80px;padding-bottom:80px;padding-left:80px;padding-right:80px}.application{height:240px;width:300px;display:grid;grid-template-rows:10px 190px 10px 30px}.application-not-default{display:none}.application-selector-show-all .application-not-default{opacity:.5;display:grid}.application-selector-edit-mode .application-not-default{display:grid;opacity:.5}.application-selector-edit-mode .application-not-default:after{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_1___ + \");background-repeat:no-repeat;content:'';width:60px;height:60px;margin-left:20px;margin-top:20px;opacity:1.0}.application-selector-edit-mode .application:not(.application-not-default):after{background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_2___ + \");background-repeat:no-repeat;content:'';width:60px;height:60px;margin-left:20px;margin-top:20px}.application{cursor:pointer;text-align:center}.application-list{display:flex;flex-direction:row;flex-wrap:wrap;overflow-y:hidden;overflow-x:hidden;padding:17px}.application-selector-edit-mode .application-list{border-color:#90ffa9;border-width:1px;border-style:solid;padding:16px}.application-selector-top{min-height:120px;padding-bottom:16px;display:flex;justify-content:flex-start}.application-selector:not(.application-selector-edit-mode) .application-selector-top-edit-mode-text{display:none}.application-selector-edit-mode .application-selector-top-edit-mode-text{font-size:1rem;color:#90FFA9}.application-selector-top-title{font-size:3rem;color:#ffffff;flex-grow:1}.application-selector-edit-mode .application-list-save-button{display:inline-block}.application-list-save-button{display:none;color:#e2e2e2;background:#737373;padding:1rem;margin:0 0 0.5rem 0;box-sizing:border-box;text-decoration:none;cursor:pointer;border-top:1.5px solid #ababab;border-bottom:1px solid #000000;pointer-events:auto;font-size:28px;vertical-align:middle;height:60px;width:320px;text-align:center;padding-top:8px;justify-self:flex-end}.application-list-save-button-text{font-family:-apple-system, BlinkMacSystemFont, \\\"Segoe UI\\\", Roboto, Ubuntu, \\\"Helvetica Neue\\\", Helvetica, sans-serif;line-height:1.5}.application-selector-show-all:not(.application-selector-edit-mode) .application-selector-edit-button{height:30px;width:60px;padding-top:8px;background-image:url(\" + ___CSS_LOADER_URL_REPLACEMENT_3___ + \");background-size:contain;background-repeat:no-repeat;opacity:0.3}.application-name{font-size:24px;color:#FFFFFF;grid-row:4;text-overflow:ellipsis;white-space:nowrap;overflow:hidden}.application-icon{object-fit:contain;max-width:95%;max-height:100%;width:auto;height:auto;grid-row:2;justify-self:center;align-self:center;background-color:#333;padding:16px}.application-icon>img{width:250px;height:166px}.test-warning-message,.checksum-warning-message{font-size:1rem}@media (max-width: 500px){.application-selector{padding-left:20px;padding-right:20px}.application-list{justify-content:center}.application-selector-top-title{font-size:2rem}}@media (min-width: 1921px){body{zoom:200%}}\\n\", \"\"]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\"use strict\";\n\n/*\n  MIT License http://www.opensource.org/licenses/mit-license.php\n  Author Tobias Koppers @sokra\n*/\nmodule.exports = function (cssWithMappingToString) {\n  var list = [];\n\n  // return the list of modules as css string\n  list.toString = function toString() {\n    return this.map(function (item) {\n      var content = \"\";\n      var needLayer = typeof item[5] !== \"undefined\";\n      if (item[4]) {\n        content += \"@supports (\".concat(item[4], \") {\");\n      }\n      if (item[2]) {\n        content += \"@media \".concat(item[2], \" {\");\n      }\n      if (needLayer) {\n        content += \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\");\n      }\n      content += cssWithMappingToString(item);\n      if (needLayer) {\n        content += \"}\";\n      }\n      if (item[2]) {\n        content += \"}\";\n      }\n      if (item[4]) {\n        content += \"}\";\n      }\n      return content;\n    }).join(\"\");\n  };\n\n  // import a list of modules into the list\n  list.i = function i(modules, media, dedupe, supports, layer) {\n    if (typeof modules === \"string\") {\n      modules = [[null, modules, undefined]];\n    }\n    var alreadyImportedModules = {};\n    if (dedupe) {\n      for (var k = 0; k < this.length; k++) {\n        var id = this[k][0];\n        if (id != null) {\n          alreadyImportedModules[id] = true;\n        }\n      }\n    }\n    for (var _k = 0; _k < modules.length; _k++) {\n      var item = [].concat(modules[_k]);\n      if (dedupe && alreadyImportedModules[item[0]]) {\n        continue;\n      }\n      if (typeof layer !== \"undefined\") {\n        if (typeof item[5] === \"undefined\") {\n          item[5] = layer;\n        } else {\n          item[1] = \"@layer\".concat(item[5].length > 0 ? \" \".concat(item[5]) : \"\", \" {\").concat(item[1], \"}\");\n          item[5] = layer;\n        }\n      }\n      if (media) {\n        if (!item[2]) {\n          item[2] = media;\n        } else {\n          item[1] = \"@media \".concat(item[2], \" {\").concat(item[1], \"}\");\n          item[2] = media;\n        }\n      }\n      if (supports) {\n        if (!item[4]) {\n          item[4] = \"\".concat(supports);\n        } else {\n          item[1] = \"@supports (\".concat(item[4], \") {\").concat(item[1], \"}\");\n          item[4] = supports;\n        }\n      }\n      list.push(item);\n    }\n  };\n  return list;\n};","\"use strict\";\n\nmodule.exports = function (url, options) {\n  if (!options) {\n    options = {};\n  }\n  if (!url) {\n    return url;\n  }\n  url = String(url.__esModule ? url.default : url);\n\n  // If url is already wrapped in quotes, remove them\n  if (/^['\"].*['\"]$/.test(url)) {\n    url = url.slice(1, -1);\n  }\n  if (options.hash) {\n    url += options.hash;\n  }\n\n  // Should url be wrapped?\n  // See https://drafts.csswg.org/css-values-3/#urls\n  if (/[\"'() \\t\\n]|(%20)/.test(url) || options.needQuotes) {\n    return \"\\\"\".concat(url.replace(/\"/g, '\\\\\"').replace(/\\n/g, \"\\\\n\"), \"\\\"\");\n  }\n  return url;\n};","\"use strict\";\n\nmodule.exports = function (i) {\n  return i[1];\n};","\"use strict\";\n\nvar stylesInDOM = [];\n\nfunction getIndexByIdentifier(identifier) {\n  var result = -1;\n\n  for (var i = 0; i < stylesInDOM.length; i++) {\n    if (stylesInDOM[i].identifier === identifier) {\n      result = i;\n      break;\n    }\n  }\n\n  return result;\n}\n\nfunction modulesToDom(list, options) {\n  var idCountMap = {};\n  var identifiers = [];\n\n  for (var i = 0; i < list.length; i++) {\n    var item = list[i];\n    var id = options.base ? item[0] + options.base : item[0];\n    var count = idCountMap[id] || 0;\n    var identifier = \"\".concat(id, \" \").concat(count);\n    idCountMap[id] = count + 1;\n    var indexByIdentifier = getIndexByIdentifier(identifier);\n    var obj = {\n      css: item[1],\n      media: item[2],\n      sourceMap: item[3],\n      supports: item[4],\n      layer: item[5]\n    };\n\n    if (indexByIdentifier !== -1) {\n      stylesInDOM[indexByIdentifier].references++;\n      stylesInDOM[indexByIdentifier].updater(obj);\n    } else {\n      var updater = addElementStyle(obj, options);\n      options.byIndex = i;\n      stylesInDOM.splice(i, 0, {\n        identifier: identifier,\n        updater: updater,\n        references: 1\n      });\n    }\n\n    identifiers.push(identifier);\n  }\n\n  return identifiers;\n}\n\nfunction addElementStyle(obj, options) {\n  var api = options.domAPI(options);\n  api.update(obj);\n\n  var updater = function updater(newObj) {\n    if (newObj) {\n      if (newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap && newObj.supports === obj.supports && newObj.layer === obj.layer) {\n        return;\n      }\n\n      api.update(obj = newObj);\n    } else {\n      api.remove();\n    }\n  };\n\n  return updater;\n}\n\nmodule.exports = function (list, options) {\n  options = options || {};\n  list = list || [];\n  var lastIdentifiers = modulesToDom(list, options);\n  return function update(newList) {\n    newList = newList || [];\n\n    for (var i = 0; i < lastIdentifiers.length; i++) {\n      var identifier = lastIdentifiers[i];\n      var index = getIndexByIdentifier(identifier);\n      stylesInDOM[index].references--;\n    }\n\n    var newLastIdentifiers = modulesToDom(newList, options);\n\n    for (var _i = 0; _i < lastIdentifiers.length; _i++) {\n      var _identifier = lastIdentifiers[_i];\n\n      var _index = getIndexByIdentifier(_identifier);\n\n      if (stylesInDOM[_index].references === 0) {\n        stylesInDOM[_index].updater();\n\n        stylesInDOM.splice(_index, 1);\n      }\n    }\n\n    lastIdentifiers = newLastIdentifiers;\n  };\n};","\"use strict\";\n\nvar memo = {};\n/* istanbul ignore next  */\n\nfunction getTarget(target) {\n  if (typeof memo[target] === \"undefined\") {\n    var styleTarget = document.querySelector(target); // Special case to return head of iframe instead of iframe itself\n\n    if (window.HTMLIFrameElement && styleTarget instanceof window.HTMLIFrameElement) {\n      try {\n        // This will throw an exception if access to iframe is blocked\n        // due to cross-origin restrictions\n        styleTarget = styleTarget.contentDocument.head;\n      } catch (e) {\n        // istanbul ignore next\n        styleTarget = null;\n      }\n    }\n\n    memo[target] = styleTarget;\n  }\n\n  return memo[target];\n}\n/* istanbul ignore next  */\n\n\nfunction insertBySelector(insert, style) {\n  var target = getTarget(insert);\n\n  if (!target) {\n    throw new Error(\"Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.\");\n  }\n\n  target.appendChild(style);\n}\n\nmodule.exports = insertBySelector;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction insertStyleElement(options) {\n  var element = document.createElement(\"style\");\n  options.setAttributes(element, options.attributes);\n  options.insert(element, options.options);\n  return element;\n}\n\nmodule.exports = insertStyleElement;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction setAttributesWithoutAttributes(styleElement) {\n  var nonce = typeof __webpack_nonce__ !== \"undefined\" ? __webpack_nonce__ : null;\n\n  if (nonce) {\n    styleElement.setAttribute(\"nonce\", nonce);\n  }\n}\n\nmodule.exports = setAttributesWithoutAttributes;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction apply(styleElement, options, obj) {\n  var css = \"\";\n\n  if (obj.supports) {\n    css += \"@supports (\".concat(obj.supports, \") {\");\n  }\n\n  if (obj.media) {\n    css += \"@media \".concat(obj.media, \" {\");\n  }\n\n  var needLayer = typeof obj.layer !== \"undefined\";\n\n  if (needLayer) {\n    css += \"@layer\".concat(obj.layer.length > 0 ? \" \".concat(obj.layer) : \"\", \" {\");\n  }\n\n  css += obj.css;\n\n  if (needLayer) {\n    css += \"}\";\n  }\n\n  if (obj.media) {\n    css += \"}\";\n  }\n\n  if (obj.supports) {\n    css += \"}\";\n  }\n\n  var sourceMap = obj.sourceMap;\n\n  if (sourceMap && typeof btoa !== \"undefined\") {\n    css += \"\\n/*# sourceMappingURL=data:application/json;base64,\".concat(btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))), \" */\");\n  } // For old IE\n\n  /* istanbul ignore if  */\n\n\n  options.styleTagTransform(css, styleElement, options.options);\n}\n\nfunction removeStyleElement(styleElement) {\n  // istanbul ignore if\n  if (styleElement.parentNode === null) {\n    return false;\n  }\n\n  styleElement.parentNode.removeChild(styleElement);\n}\n/* istanbul ignore next  */\n\n\nfunction domAPI(options) {\n  var styleElement = options.insertStyleElement(options);\n  return {\n    update: function update(obj) {\n      apply(styleElement, options, obj);\n    },\n    remove: function remove() {\n      removeStyleElement(styleElement);\n    }\n  };\n}\n\nmodule.exports = domAPI;","\"use strict\";\n\n/* istanbul ignore next  */\nfunction styleTagTransform(css, styleElement) {\n  if (styleElement.styleSheet) {\n    styleElement.styleSheet.cssText = css;\n  } else {\n    while (styleElement.firstChild) {\n      styleElement.removeChild(styleElement.firstChild);\n    }\n\n    styleElement.appendChild(document.createTextNode(css));\n  }\n}\n\nmodule.exports = styleTagTransform;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\tid: moduleId,\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","__webpack_require__.p = \"\";","__webpack_require__.b = document.baseURI || self.location.href;\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t823: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n// no on chunks loaded\n\n// no jsonp function","__webpack_require__.nc = undefined;","\n      import API from \"!../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../node_modules/sass-loader/dist/cjs.js!./appselector.scss\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\n\n      options.insert = insertFn.bind(null, \"head\");\n    \noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../node_modules/css-loader/dist/cjs.js??ruleSet[1].rules[1].use[1]!../node_modules/sass-loader/dist/cjs.js!./appselector.scss\";\n       export default content && content.locals ? content.locals : undefined;\n","/******************************************************************************\r\nCopyright (c) Microsoft Corporation.\r\n\r\nPermission to use, copy, modify, and/or distribute this software for any\r\npurpose with or without fee is hereby granted.\r\n\r\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\r\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\r\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\r\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\r\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\r\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\r\nPERFORMANCE OF THIS SOFTWARE.\r\n***************************************************************************** */\r\n/* global Reflect, Promise */\r\n\r\nvar extendStatics = function(d, b) {\r\n    extendStatics = Object.setPrototypeOf ||\r\n        ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\r\n        function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\r\n    return extendStatics(d, b);\r\n};\r\n\r\nexport function __extends(d, b) {\r\n    if (typeof b !== \"function\" && b !== null)\r\n        throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\r\n    extendStatics(d, b);\r\n    function __() { this.constructor = d; }\r\n    d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\r\n}\r\n\r\nexport var __assign = function() {\r\n    __assign = Object.assign || function __assign(t) {\r\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n            s = arguments[i];\r\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\r\n        }\r\n        return t;\r\n    }\r\n    return __assign.apply(this, arguments);\r\n}\r\n\r\nexport function __rest(s, e) {\r\n    var t = {};\r\n    for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0)\r\n        t[p] = s[p];\r\n    if (s != null && typeof Object.getOwnPropertySymbols === \"function\")\r\n        for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\r\n            if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i]))\r\n                t[p[i]] = s[p[i]];\r\n        }\r\n    return t;\r\n}\r\n\r\nexport function __decorate(decorators, target, key, desc) {\r\n    var c = arguments.length, r = c < 3 ? target : desc === null ? desc = Object.getOwnPropertyDescriptor(target, key) : desc, d;\r\n    if (typeof Reflect === \"object\" && typeof Reflect.decorate === \"function\") r = Reflect.decorate(decorators, target, key, desc);\r\n    else for (var i = decorators.length - 1; i >= 0; i--) if (d = decorators[i]) r = (c < 3 ? d(r) : c > 3 ? d(target, key, r) : d(target, key)) || r;\r\n    return c > 3 && r && Object.defineProperty(target, key, r), r;\r\n}\r\n\r\nexport function __param(paramIndex, decorator) {\r\n    return function (target, key) { decorator(target, key, paramIndex); }\r\n}\r\n\r\nexport function __metadata(metadataKey, metadataValue) {\r\n    if (typeof Reflect === \"object\" && typeof Reflect.metadata === \"function\") return Reflect.metadata(metadataKey, metadataValue);\r\n}\r\n\r\nexport function __awaiter(thisArg, _arguments, P, generator) {\r\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\r\n    return new (P || (P = Promise))(function (resolve, reject) {\r\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\r\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\r\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\r\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\r\n    });\r\n}\r\n\r\nexport function __generator(thisArg, body) {\r\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\r\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\r\n    function verb(n) { return function (v) { return step([n, v]); }; }\r\n    function step(op) {\r\n        if (f) throw new TypeError(\"Generator is already executing.\");\r\n        while (g && (g = 0, op[0] && (_ = 0)), _) try {\r\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\r\n            if (y = 0, t) op = [op[0] & 2, t.value];\r\n            switch (op[0]) {\r\n                case 0: case 1: t = op; break;\r\n                case 4: _.label++; return { value: op[1], done: false };\r\n                case 5: _.label++; y = op[1]; op = [0]; continue;\r\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\r\n                default:\r\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\r\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\r\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\r\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\r\n                    if (t[2]) _.ops.pop();\r\n                    _.trys.pop(); continue;\r\n            }\r\n            op = body.call(thisArg, _);\r\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\r\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\r\n    }\r\n}\r\n\r\nexport var __createBinding = Object.create ? (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    var desc = Object.getOwnPropertyDescriptor(m, k);\r\n    if (!desc || (\"get\" in desc ? !m.__esModule : desc.writable || desc.configurable)) {\r\n        desc = { enumerable: true, get: function() { return m[k]; } };\r\n    }\r\n    Object.defineProperty(o, k2, desc);\r\n}) : (function(o, m, k, k2) {\r\n    if (k2 === undefined) k2 = k;\r\n    o[k2] = m[k];\r\n});\r\n\r\nexport function __exportStar(m, o) {\r\n    for (var p in m) if (p !== \"default\" && !Object.prototype.hasOwnProperty.call(o, p)) __createBinding(o, m, p);\r\n}\r\n\r\nexport function __values(o) {\r\n    var s = typeof Symbol === \"function\" && Symbol.iterator, m = s && o[s], i = 0;\r\n    if (m) return m.call(o);\r\n    if (o && typeof o.length === \"number\") return {\r\n        next: function () {\r\n            if (o && i >= o.length) o = void 0;\r\n            return { value: o && o[i++], done: !o };\r\n        }\r\n    };\r\n    throw new TypeError(s ? \"Object is not iterable.\" : \"Symbol.iterator is not defined.\");\r\n}\r\n\r\nexport function __read(o, n) {\r\n    var m = typeof Symbol === \"function\" && o[Symbol.iterator];\r\n    if (!m) return o;\r\n    var i = m.call(o), r, ar = [], e;\r\n    try {\r\n        while ((n === void 0 || n-- > 0) && !(r = i.next()).done) ar.push(r.value);\r\n    }\r\n    catch (error) { e = { error: error }; }\r\n    finally {\r\n        try {\r\n            if (r && !r.done && (m = i[\"return\"])) m.call(i);\r\n        }\r\n        finally { if (e) throw e.error; }\r\n    }\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spread() {\r\n    for (var ar = [], i = 0; i < arguments.length; i++)\r\n        ar = ar.concat(__read(arguments[i]));\r\n    return ar;\r\n}\r\n\r\n/** @deprecated */\r\nexport function __spreadArrays() {\r\n    for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\r\n    for (var r = Array(s), k = 0, i = 0; i < il; i++)\r\n        for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\r\n            r[k] = a[j];\r\n    return r;\r\n}\r\n\r\nexport function __spreadArray(to, from, pack) {\r\n    if (pack || arguments.length === 2) for (var i = 0, l = from.length, ar; i < l; i++) {\r\n        if (ar || !(i in from)) {\r\n            if (!ar) ar = Array.prototype.slice.call(from, 0, i);\r\n            ar[i] = from[i];\r\n        }\r\n    }\r\n    return to.concat(ar || Array.prototype.slice.call(from));\r\n}\r\n\r\nexport function __await(v) {\r\n    return this instanceof __await ? (this.v = v, this) : new __await(v);\r\n}\r\n\r\nexport function __asyncGenerator(thisArg, _arguments, generator) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var g = generator.apply(thisArg, _arguments || []), i, q = [];\r\n    return i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i;\r\n    function verb(n) { if (g[n]) i[n] = function (v) { return new Promise(function (a, b) { q.push([n, v, a, b]) > 1 || resume(n, v); }); }; }\r\n    function resume(n, v) { try { step(g[n](v)); } catch (e) { settle(q[0][3], e); } }\r\n    function step(r) { r.value instanceof __await ? Promise.resolve(r.value.v).then(fulfill, reject) : settle(q[0][2], r); }\r\n    function fulfill(value) { resume(\"next\", value); }\r\n    function reject(value) { resume(\"throw\", value); }\r\n    function settle(f, v) { if (f(v), q.shift(), q.length) resume(q[0][0], q[0][1]); }\r\n}\r\n\r\nexport function __asyncDelegator(o) {\r\n    var i, p;\r\n    return i = {}, verb(\"next\"), verb(\"throw\", function (e) { throw e; }), verb(\"return\"), i[Symbol.iterator] = function () { return this; }, i;\r\n    function verb(n, f) { i[n] = o[n] ? function (v) { return (p = !p) ? { value: __await(o[n](v)), done: n === \"return\" } : f ? f(v) : v; } : f; }\r\n}\r\n\r\nexport function __asyncValues(o) {\r\n    if (!Symbol.asyncIterator) throw new TypeError(\"Symbol.asyncIterator is not defined.\");\r\n    var m = o[Symbol.asyncIterator], i;\r\n    return m ? m.call(o) : (o = typeof __values === \"function\" ? __values(o) : o[Symbol.iterator](), i = {}, verb(\"next\"), verb(\"throw\"), verb(\"return\"), i[Symbol.asyncIterator] = function () { return this; }, i);\r\n    function verb(n) { i[n] = o[n] && function (v) { return new Promise(function (resolve, reject) { v = o[n](v), settle(resolve, reject, v.done, v.value); }); }; }\r\n    function settle(resolve, reject, d, v) { Promise.resolve(v).then(function(v) { resolve({ value: v, done: d }); }, reject); }\r\n}\r\n\r\nexport function __makeTemplateObject(cooked, raw) {\r\n    if (Object.defineProperty) { Object.defineProperty(cooked, \"raw\", { value: raw }); } else { cooked.raw = raw; }\r\n    return cooked;\r\n};\r\n\r\nvar __setModuleDefault = Object.create ? (function(o, v) {\r\n    Object.defineProperty(o, \"default\", { enumerable: true, value: v });\r\n}) : function(o, v) {\r\n    o[\"default\"] = v;\r\n};\r\n\r\nexport function __importStar(mod) {\r\n    if (mod && mod.__esModule) return mod;\r\n    var result = {};\r\n    if (mod != null) for (var k in mod) if (k !== \"default\" && Object.prototype.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\r\n    __setModuleDefault(result, mod);\r\n    return result;\r\n}\r\n\r\nexport function __importDefault(mod) {\r\n    return (mod && mod.__esModule) ? mod : { default: mod };\r\n}\r\n\r\nexport function __classPrivateFieldGet(receiver, state, kind, f) {\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a getter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot read private member from an object whose class did not declare it\");\r\n    return kind === \"m\" ? f : kind === \"a\" ? f.call(receiver) : f ? f.value : state.get(receiver);\r\n}\r\n\r\nexport function __classPrivateFieldSet(receiver, state, value, kind, f) {\r\n    if (kind === \"m\") throw new TypeError(\"Private method is not writable\");\r\n    if (kind === \"a\" && !f) throw new TypeError(\"Private accessor was defined without a setter\");\r\n    if (typeof state === \"function\" ? receiver !== state || !f : !state.has(receiver)) throw new TypeError(\"Cannot write private member to an object whose class did not declare it\");\r\n    return (kind === \"a\" ? f.call(receiver, value) : f ? f.value = value : state.set(receiver, value)), value;\r\n}\r\n\r\nexport function __classPrivateFieldIn(state, receiver) {\r\n    if (receiver === null || (typeof receiver !== \"object\" && typeof receiver !== \"function\")) throw new TypeError(\"Cannot use 'in' operator on non-object\");\r\n    return typeof state === \"function\" ? receiver === state : state.has(receiver);\r\n}\r\n","\r\n/* eslint-disable no-console */\r\n// eslint-disable-next-line no-shadow\r\nexport enum LogLevel {\r\n    off = 0,\r\n    error = 1,\r\n    warning = 2,\r\n    info = 3,\r\n    verbose = 4,\r\n    debug = 5\r\n}\r\n\r\nexport class Log {\r\n\r\n    private static _clickStart: Date = new Date();\r\n    private static _lastClick: Date = new Date();\r\n    private static _isInitialized: boolean = false;\r\n    private static _debugModeActive: boolean = false;\r\n    private static _activateDuration: number = 2000;\r\n    private static _requiredShortPressCount: number = 3;\r\n    private static _shortPressCount: number = 0;\r\n    private static _state: number = 0;\r\n    public static logLevel: LogLevel = LogLevel.error;\r\n    public static autoRefresh: boolean = false;\r\n    public static logError(message?: any, ...optionalParams: any[]): void {\r\n        if (this.logLevel >= LogLevel.error) {\r\n            console.error(message, ...optionalParams);\r\n            Log._checkAutoRefresh()\r\n        }\r\n    }\r\n\r\n    private static _checkAutoRefresh(): void {\r\n        if (Log.autoRefresh) {\r\n            Log._populateLog();\r\n        }\r\n    }\r\n    public static logWarning(message?: any, ...optionalParams: any[]): void {\r\n        if (Log.logLevel >= LogLevel.warning) {\r\n            console.log(message, ...optionalParams);\r\n            Log._checkAutoRefresh()\r\n        }\r\n    }\r\n    public static logInfo(message?: any, ...optionalParams: any[]): void {\r\n        if (Log.logLevel >= LogLevel.info) {\r\n            console.log(message, ...optionalParams);\r\n            Log._checkAutoRefresh()\r\n        }\r\n    }\r\n    public static logVerbose(message?: any, ...optionalParams: any[]): void {\r\n        if (Log.logLevel >= LogLevel.verbose) {\r\n            console.log(message, ...optionalParams);\r\n            Log._checkAutoRefresh()\r\n        }\r\n    }\r\n    public static logDebug(message?: any, ...optionalParams: any[]): void {\r\n        if (Log.logLevel >= LogLevel.debug) {\r\n            console.log(message, ...optionalParams);\r\n            Log._checkAutoRefresh()\r\n        }\r\n    }\r\n\r\n    public static initialize(): void {\r\n        if (Log._isInitialized === true) {\r\n            return;\r\n        }\r\n        Log._isInitialized = true;\r\n\r\n        document.addEventListener('mousedown', (_event: MouseEvent) => Log._handleStartLogView(), true);\r\n        document.addEventListener('keydown', (event: KeyboardEvent) => {\r\n            if (Log._debugModeActive) {\r\n                return;\r\n            }\r\n\r\n            if (event.ctrlKey && event.altKey && event.key === 'l') {\r\n                Log.showLogView();\r\n            }\r\n        });\r\n    }\r\n\r\n    public static showLogView(): void {\r\n        Log._debugModeActive = true;\r\n        let loggerDiv = document.querySelector<HTMLElement>('.log-view-wrapper');\r\n\r\n        // Create log view div\r\n        if (loggerDiv == null) {\r\n            loggerDiv = Log._setupLogView();\r\n        }\r\n        Log._populateLog();\r\n        loggerDiv.style.display = 'block';\r\n    }\r\n\r\n    private static _closeLog(): void {\r\n        Log._state = 0;\r\n        Log._shortPressCount = 0;\r\n        Log._debugModeActive = false;\r\n        Log.logLevel = LogLevel.error;\r\n        const loggerDiv = document.querySelector<HTMLElement>('.log-view-wrapper');\r\n        loggerDiv.style.display = 'none';\r\n        const loggerContent = document.querySelector<HTMLElement>('.log-view-content');\r\n        loggerContent.innerHTML = '';\r\n    }\r\n\r\n    private static _clearLog(): void {\r\n        globalLogMessages.splice(0);\r\n        this._populateLog();\r\n    }\r\n\r\n    private static _maximizeLog(): void {\r\n\r\n        const loggerView = document.querySelector<HTMLElement>('.log-view');\r\n        loggerView.style.display = 'block';\r\n        const maximizeButton = document.querySelector<HTMLElement>('.maximize-log-button');\r\n        maximizeButton.style.display = 'none';\r\n    }\r\n\r\n    private static _mimimizeLog(): void {\r\n\r\n        const loggerView = document.querySelector<HTMLElement>('.log-view');\r\n        loggerView.style.display = 'none';\r\n        const maximizeButton = document.querySelector<HTMLElement>('.maximize-log-button');\r\n        maximizeButton.style.display = 'block';\r\n    }\r\n\r\n\r\n    private static _setAutoRefreshLog(): void {\r\n\r\n        const button = document.querySelector<HTMLInputElement>('.auto-refresh-log-button');\r\n        if (Log.autoRefresh === true) {\r\n            Log.autoRefresh = false;\r\n            button.innerText = 'Turn Auto Refresh On';\r\n        } else {\r\n            Log.autoRefresh = true;\r\n            button.innerText = 'Turn Auto Refresh Off';\r\n        }\r\n    }\r\n\r\n\r\n    private static _handleStartLogView(): void {\r\n\r\n        if (Log._debugModeActive) {\r\n            Log._lastClick = new Date();\r\n            return;\r\n        }\r\n\r\n        if (Log._durationGreaterThan(3 * Log._activateDuration, Log._lastClick)) {\r\n            Log._state = 0;\r\n            Log._shortPressCount = 0;\r\n        }\r\n\r\n        if (Log._state % 2 !== 0) { // Wait mode\r\n            if (Log._durationGreaterThan(Log._activateDuration, Log._lastClick)) {\r\n                Log._state++;\r\n            } else {\r\n                Log._state = 0;\r\n            }\r\n            Log._shortPressCount = 0;\r\n        }\r\n\r\n        if (Log._state % 2 === 0) {  // Click mode\r\n            if (Log._shortPressCount === 0) {\r\n                Log._clickStart = new Date();\r\n            }\r\n            if (Log._shortPressCount < Log._requiredShortPressCount && Log._durationGreaterThan(Log._activateDuration, Log._clickStart)) {\r\n                Log._state = 0; // Sequence failed\r\n                Log._shortPressCount = 0;\r\n                return;\r\n            } else {\r\n                Log._shortPressCount++;\r\n            }\r\n            if (Log._shortPressCount >= Log._requiredShortPressCount) {\r\n                Log._state++;\r\n                Log._clickStart = new Date();\r\n            }\r\n        }\r\n        Log._lastClick = new Date();\r\n\r\n        if (Log._state > 6) {\r\n            Log._state = 0;\r\n            Log._shortPressCount = 0;\r\n            Log.showLogView();\r\n        }\r\n    }\r\n\r\n    private static _durationGreaterThan(limit: number, timeToCompare: Date): boolean {\r\n        return new Date().getTime() - timeToCompare.getTime() > limit;\r\n    }\r\n\r\n    private static _setupLogView(): HTMLElement {\r\n        const body = document.querySelector('body') as HTMLElement;\r\n        const loggerDiv = document.createElement('div');\r\n        loggerDiv.classList.add('log-view-wrapper');\r\n\r\n        loggerDiv.innerHTML = `\r\n        <button class=\"maximize-log-button\">Maximize</button>\r\n        <div class=\"log-view\">\r\n            <div class=\"log-view-toobar\">\r\n            <button class=\"close-log-button log-button\">Exit</button>\r\n            <button class=\"clear-log-button log-button\">Clear</button>\r\n            <button class=\"minimize-log-button log-button\">Minimize</button>\r\n            <button class=\"refresh-log-button log-button\">Refresh</button>\r\n            <button class=\"auto-refresh-log-button log-button\">${Log.autoRefresh === false ? 'Turn Auto Refresh On' : 'Turn Auto Refresh Off'}</button>\r\n            <select class=\"log-level-selector log-button\">\r\n                <option value=\"5\" ${Log.logLevel === LogLevel.debug ? 'selected' : ''}>Debug</option>\r\n                <option value=\"4\" ${Log.logLevel === LogLevel.verbose ? 'selected' : ''}>Verbose</option>\r\n                <option value=\"3\" ${Log.logLevel === LogLevel.info ? 'selected' : ''}>Info</option>\r\n                <option value=\"2\" ${Log.logLevel === LogLevel.warning ? 'selected' : ''}>Warning</option>\r\n                <option value=\"1\" ${Log.logLevel === LogLevel.error ? 'selected' : ''} >Error</option>\r\n                <option value=\"0\" ${Log.logLevel === LogLevel.off ? 'selected' : ''}>Off</option>\r\n            </select>\r\n            </div>\r\n            <div class=\"log-view-content\">\r\n            </div>\r\n        </div>`;\r\n        body.appendChild(loggerDiv);\r\n\r\n        const logLevelSelect = document.querySelector<HTMLSelectElement>('.log-level-selector');\r\n        logLevelSelect.onchange = (event: Event) => {\r\n            const selector = event.target as HTMLSelectElement\r\n            Log.logLevel = parseInt(selector.value, 10) as LogLevel;\r\n        }\r\n        const closeLogButton = document.querySelector<HTMLButtonElement>('.close-log-button');\r\n        closeLogButton.onclick = () => Log._closeLog();\r\n\r\n        const clearLogButton = document.querySelector<HTMLButtonElement>('.clear-log-button');\r\n        clearLogButton.onclick = () => Log._clearLog();\r\n\r\n        const minimizeLogButton = document.querySelector<HTMLButtonElement>('.minimize-log-button');\r\n        minimizeLogButton.onclick = () => Log._mimimizeLog();\r\n\r\n        const maximizeLogButton = document.querySelector<HTMLButtonElement>('.maximize-log-button');\r\n        maximizeLogButton.onclick = () => Log._maximizeLog();\r\n\r\n        const refreshLogButton = document.querySelector<HTMLButtonElement>('.refresh-log-button');\r\n        refreshLogButton.onclick = () => Log._populateLog();\r\n\r\n        const autoRefreshLogInput = document.querySelector<HTMLButtonElement>('.auto-refresh-log-button');\r\n        autoRefreshLogInput.onclick = () => Log._setAutoRefreshLog();\r\n        return loggerDiv;\r\n    }\r\n    private static _populateLog(): void {\r\n        const loggerContent = document.querySelector<HTMLElement>('.log-view-content');\r\n        loggerContent.innerHTML = '';\r\n        const length = globalLogMessages.length;\r\n        for (let i = length - 1; i >= 0; i--) {\r\n            const message = globalLogMessages[i];\r\n            const node = document.createElement('div');\r\n            const textNode = document.createTextNode(message);\r\n            node.appendChild(textNode);\r\n            loggerContent.appendChild(node);\r\n        }\r\n    }\r\n}\r\n","import { Log } from '../log';\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum SocketState {\r\n    notSet = 0,\r\n    closed = 1,\r\n    connecting = 2,\r\n    open = 3,\r\n    socketError = 4\r\n}\r\n\r\nexport type OnSocketStateChangedDelegate = (state: SocketState) => void;\r\nexport class WebSocketManager {\r\n\r\n    // TODO: queue messages\r\n    public currentState: SocketState = SocketState.notSet;\r\n    public autoReconnectOnError: boolean = false\r\n    private _webSocket: WebSocket = null;\r\n    private _onMessageDelegates: ((data: any) => void)[] = [];\r\n    private _onSocketStateChangesDelegates: OnSocketStateChangedDelegate[] = [];\r\n\r\n    public connect(): void {\r\n        this._createNewWebSocket();\r\n    }\r\n\r\n    public addOnDataReceivedDelegate(delegate: (data: any) => void): void {\r\n        this._onMessageDelegates.push(delegate);\r\n    }\r\n\r\n    public removeOnDataReceivedDelegate(delegate: (data: any) => void): void {\r\n        for (let i = 0; i < this._onMessageDelegates.length; i++) {\r\n            if (this._onMessageDelegates[i] === delegate) {\r\n                this._onMessageDelegates.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    public addOnSocketStateChangedDelegate(delegate: OnSocketStateChangedDelegate): void {\r\n        this._onSocketStateChangesDelegates.push(delegate);\r\n        delegate(this.currentState)\r\n    }\r\n\r\n    public removeOnSocketStateChangedDelegate(delegate: OnSocketStateChangedDelegate): void {\r\n        for (let i = 0; i < this._onSocketStateChangesDelegates.length; i++) {\r\n            if (this._onSocketStateChangesDelegates[i] === delegate) {\r\n                this._onSocketStateChangesDelegates.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n    public sendJson(data: any): void {\r\n        this.send(JSON.stringify(data));\r\n    }\r\n    public send(data: string): void {\r\n        if (this._webSocket == null || this._webSocket.readyState !== this._webSocket.OPEN) {\r\n            Log.logWarning('Websocket is not open, failed to send command!');\r\n        } else {\r\n            Log.logDebug('Sending ws data: ', data);\r\n            this._webSocket.send(data);\r\n        }\r\n    }\r\n    private _createNewWebSocket(): void {\r\n        if (this._webSocket != null) {\r\n            try {\r\n                if (this._webSocket.readyState === this._webSocket.OPEN || this._webSocket.readyState === this._webSocket.CONNECTING) {\r\n                    this._webSocket.close();\r\n                }\r\n                this._onSocketClosed();\r\n            } catch {\r\n                // nop\r\n            }\r\n        }\r\n        // this._webSocket = new WebSocket('ws://localhost/ws');\r\n        // this._webSocket = new WebSocket('ws://172.16.71.235/ws');\r\n        this._webSocket = new WebSocket('ws://' + window.location.host + '/ws');\r\n        // this._webSocket = new WebSocket('ws://192.168.1.100/ws');\r\n        this._webSocket.onopen = (event: Event) => this._onOpen(event);\r\n        this._webSocket.onmessage = (event: MessageEvent) => this._onMessageReceived(event);\r\n        this._webSocket.onerror = (event: Event) => this._onSocketError(event);\r\n        this._webSocket.onclose = (_event: CloseEvent) => this._onSocketClosed();\r\n\r\n        this._onSocketStateChanged(SocketState.connecting);\r\n    }\r\n\r\n    private _onMessageReceived(event: MessageEvent): void {\r\n        const data = JSON.parse(event.data);\r\n        if (data == null) {\r\n            Log.logDebug('Received ws data with value null');\r\n            return;\r\n        }\r\n        Log.logDebug(`Received ws data. cmd: ${data.messagecmd}, type: ${data.messagetype}, size: ${data.size}`);\r\n        for (const delegate of this._onMessageDelegates) {\r\n            delegate(data);\r\n        }\r\n    }\r\n\r\n    private _onSocketError(_event: Event): void {\r\n        Log.logError('Websocket return onError, socket state: ' + this._webSocket.readyState);\r\n        this._onSocketStateChanged(SocketState.socketError);\r\n        if (this.autoReconnectOnError) {\r\n            Log.logWarning('Websocket error: Recreate websocket');\r\n            this._createNewWebSocket();\r\n        }\r\n\r\n    }\r\n    private _onSocketClosed(): void {\r\n        this._onSocketStateChanged(SocketState.closed);\r\n    }\r\n    private _onOpen(_event: Event): void {\r\n        this._onSocketStateChanged(SocketState.open);\r\n    }\r\n\r\n    private _onSocketStateChanged(state: SocketState): void {\r\n        this.currentState = state;\r\n        this._notifySocketStateSubscribers(state);\r\n    }\r\n\r\n    private _notifySocketStateSubscribers(state: SocketState): void {\r\n        for (const delegate of this._onSocketStateChangesDelegates) {\r\n            delegate(state);\r\n        }\r\n    }\r\n}\r\n","import { ValueType } from '../value-converter/value-types';\r\n\r\nexport class Protocol {\r\n    // public static fuseResetCommand(unitId: number, channelId: number): MdfCommand {\r\n    //     // alert('Repeated Attempts to reset circuit may cause permanent damage!');\r\n    //     return {\r\n    //         id: (unitId << 8) | channelId & 0xFF,\r\n    //         type: 33,\r\n    //         size: 1,\r\n    //         data: [0x01]\r\n    //     };\r\n    // }\r\n\r\n    public static receivedWduHeartbetAckCommand(): WebsocketMessage {\r\n        return {\r\n            messagetype: MessageTypeCode.acknowledgement,\r\n            messagecmd: AcknowlegementCommands.acknowledgementAck,\r\n            size: 1,\r\n            data: [0x00]\r\n        };\r\n    }\r\n    public static requestWduInfoCommand(): WebsocketMessage {\r\n        return {\r\n            messagetype: 0x31,\r\n            messagecmd: 1, // Request WDU Info.\r\n            size: 3,\r\n            data: [0x00, 0x00, 0x00]\r\n        };\r\n    }\r\n    public static requestApplicationSelectorInfoAvailableApplications(clientId: string): WebsocketMessage {\r\n        return {\r\n            messagetype: 0x31,\r\n            messagecmd: 5,\r\n            size: 0,\r\n            data: [],\r\n            extradata: {type: 0x01, clientId}\r\n        };\r\n    }\r\n    public static applicationSelectorSetDefaultApplication(applicationIds: string[], clientId: string): WebsocketMessage {\r\n        return {\r\n            messagetype: MessageTypeCode.systemWrite,\r\n            messagecmd: 0x07,\r\n            size: 0,\r\n            data: [],\r\n            extradata: {\r\n                type: 0x02, // Set\r\n                identifiers: applicationIds,\r\n                clientId\r\n            }\r\n        };\r\n    }\r\n    public static applicationSelectorClearDefaultApplication(): WebsocketMessage {\r\n        return {\r\n            messagetype: MessageTypeCode.systemWrite,\r\n            messagecmd: 0x07,\r\n            size: 0,\r\n            data: [],\r\n            extradata: {type: 0x01} // Clear\r\n        };\r\n    }\r\n    public static momentaryCommand(ebpComponentId: number, pressed: boolean): WebsocketMessage {\r\n        return {\r\n            messagetype: 17,\r\n            messagecmd: 1,\r\n            size: 3,\r\n            data: [ebpComponentId, ebpComponentId >> 8, pressed ? 1 : 0]\r\n        };\r\n    }\r\n\r\n    public static toggleCommand(ebpComponentId: number, toggleOn: boolean, set: boolean, reset: boolean): WebsocketMessage {\r\n        let cmdToSend = 0x00;\r\n        if (toggleOn) {\r\n            cmdToSend |= 0x01;\r\n        }\r\n        if (set) {\r\n            cmdToSend |= 0x02;\r\n        }\r\n        if (reset) {\r\n            cmdToSend |= 0x04;\r\n        }\r\n\r\n        return {\r\n            messagetype: 17,\r\n            messagecmd: 0,\r\n            size: 3,\r\n            data: [ebpComponentId, ebpComponentId >> 8, cmdToSend]\r\n        };\r\n    }\r\n\r\n    public static dimmerCommand(ebpComponentId: number, value: number, setResetCmd: number): WebsocketMessage {\r\n        return {\r\n            messagetype: 17,\r\n            messagecmd: 3,\r\n            size: 5,\r\n            data: [ebpComponentId, ebpComponentId >> 8, setResetCmd, ((value) & 0xFF), ((value >> 8) & 0xFF)]\r\n        };\r\n    }\r\n}\r\n\r\nexport class WebsocketMessage {\r\n    public messagetype: MessageTypeCode;\r\n    public messagecmd: number;\r\n    public size: number;\r\n    public data: number[];\r\n    public extradata?: object = {};\r\n}\r\n\r\nexport class StatusUpdateDataContent {\r\n    public signalId: number;\r\n    public unavailable: boolean;\r\n    public valueTypeIdentifier: ValueType;\r\n    public value: number;\r\n    public equals(other: StatusUpdateDataContent): boolean {\r\n        return this.signalId === other.signalId &&\r\n            this.unavailable === other.unavailable &&\r\n            this.valueTypeIdentifier === other.valueTypeIdentifier &&\r\n            this.value === other.value;\r\n    }\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum MfdStatusType {\r\n    pulse = 0x00,\r\n    momentary = 0x01,\r\n    dimmer = 0x03,\r\n    statusUpdate = 0x05\r\n\r\n}\r\nexport class MfdStatusUpdateDataContent extends StatusUpdateDataContent {\r\n    public type: MfdStatusType;\r\n    public unavailable: boolean;\r\n    public onOffStatus: boolean;\r\n    public err1FT: boolean;\r\n    public err2UC: boolean;\r\n    public dimmerValue: number;\r\n\r\n    public equals(other: MfdStatusUpdateDataContent): boolean {\r\n        return this.signalId === other.signalId &&\r\n            this.unavailable === other.unavailable &&\r\n            this.valueTypeIdentifier === other.valueTypeIdentifier &&\r\n            this.value === other.value &&\r\n            this.type === other.type &&\r\n            this.onOffStatus === other.onOffStatus &&\r\n            this.err1FT === other.err1FT &&\r\n            this.err2UC === other.err2UC &&\r\n            this.dimmerValue === other.dimmerValue;\r\n    }\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum MessageTypeCode {\r\n    mfdStatus = 0x10, // MDF Channel Item\r\n    mfdControl = 0x11, // From Webpage, Userinteraction, Button Pressed, Exectute something.\r\n    channelInfo = 0x20, // Channel is on, Channel is off etc etc.\r\n    channelCmd = 0x21, // Fuse Reset Etc.\r\n    systemCmd = 0x30, // Keep Alive Service Provider.\r\n    systemReq = 0x31, // Request WDU Information etc.\r\n    systemWrite = 0x32, // Change Language Settings etc.\r\n    syncCmd = 0x40, // A new Client is connected.\r\n    alertManagement = 0x51, // Alert messages, Suite of PGN's, including Text and State.\r\n    nmeaMsg = 0x52, // NMEA2000 Data, Ex. Fluid-Level, Battery Status,\r\n    subscriptionRequest = 0x60,\r\n    clientControlCommand = 0x70,  // Cant find this in wdu firmware!\r\n    acknowledgement = 0x80 // If recevied messages requires ack\r\n\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum SystemCommandTypes {\r\n    serviceProviderHeartbeat = 0x00,\r\n    wduInfo = 0x01,\r\n    wduSettingsUpdated = 0x04,\r\n    wduHeartbeat = 0x05,\r\n    applicationSelection = 0x0A,\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum MfdStatusCommandTypes {\r\n    toggle = 0x00,\r\n    momentary = 0x01,\r\n    dimmerUpdate = 0x03,\r\n    statusUpdate = 0x05\r\n}\r\n// eslint-disable-next-line no-shadow\r\nexport enum NmeaMessageCommandTypes {\r\n    statusUpdate = 0x01\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum ClientControlCommands {\r\n    forceReload = 0x01,\r\n\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum AcknowlegementCommands {\r\n    acknowledgementAck = 0x00\r\n}\r\n\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum ValueDataType {\r\n    uint32 = 0,\r\n    int32 = 1,\r\n    uint16 = 2,\r\n    int16 = 3,\r\n    uint8 = 4,\r\n    int8 = 5,\r\n    uint64 = 6,\r\n    int64 = 7,\r\n    bit = 8\r\n\r\n}\r\n","// eslint-disable-next-line no-shadow\r\nexport enum ExpressionType {\r\n    equal = 0,\r\n    notEqual = 1,\r\n    greaterThan = 2,\r\n    lessThan = 3,\r\n    greaterThanOrEqual = 4,\r\n    lessThanOrEqual = 5,\r\n    between = 6,\r\n    notBetween = 7,\r\n    disabled = 8,\r\n}\r\n","import { WebSocketManager } from './web-socket-manager';\r\nimport { ClientControlCommands, MessageTypeCode, MfdStatusType, MfdStatusUpdateDataContent, Protocol, StatusUpdateDataContent, SystemCommandTypes, WebsocketMessage } from './protocol';\r\nimport { Log, } from '../log';\r\nimport { Timer } from '../timer';\r\nimport { WebSocketContentDecoder } from './web-socket-content-decoder';\r\nimport { VirtualSignalExpr } from '../signals/virtual-signal-expr';\r\nimport { ExpressionType } from '../signals/expression-type';\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum Command {\r\n    forcePageReload = 0,\r\n    settingsUpdated = 1,\r\n    wduInfoReceived = 3,\r\n    checksumReceived = 4,\r\n    applicationSelectionListReceived = 5,\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum WatchdogStates {\r\n    notSet = 0,\r\n    ok = 1,\r\n    noConnectionToDigitalSwitching = 2,\r\n    noConnectionToWdu = 3\r\n}\r\n\r\nexport type OnWatchdogStateChangedDelegate = (state: WatchdogStates) => void;\r\nexport type OnNmeaValueReceivedDelegate = (value: StatusUpdateDataContent) => void;\r\nexport type OnMfdValueReceivedDelegate = (value: MfdStatusUpdateDataContent) => void;\r\nexport type OnCommandReceivedDelegate = (command: Command, extradata?: object) => void;\r\n\r\nexport interface ICommunicationHandler {\r\n    configurationChecksumFromWDU: number;\r\n    addOnNmeaValueReceivedDelegate(_signalId: number, _delegate: OnNmeaValueReceivedDelegate): void;\r\n    addOnMfdValueReceivedDelegate(_signalId: number, _delegate: OnMfdValueReceivedDelegate): void;\r\n    addOnCommandReceivedDelegate(delegate: OnCommandReceivedDelegate): void;\r\n    removeOnWathdogStateChangedDelegate(delegate: OnWatchdogStateChangedDelegate): void;\r\n    send(_command: any): void;\r\n    getProtocolVersion(): number[]; // TODO Semver\r\n}\r\n\r\nexport class CommunicationHandler implements ICommunicationHandler {\r\n\r\n    public configurationChecksumFromWDU: number = null;\r\n    public watchdogState: WatchdogStates = WatchdogStates.notSet;\r\n    private _webSocketManager: WebSocketManager = null;\r\n    private _nmeaValueReceivedDelegatesMap: Map<number, OnNmeaValueReceivedDelegate[]> = new Map<number, OnNmeaValueReceivedDelegate[]>();\r\n    private _mdfValueReceivedDelegatesMap: Map<number, OnMfdValueReceivedDelegate[]> = new Map<number, OnMfdValueReceivedDelegate[]>();\r\n    private _onWatchdogStateChangesDelegates: OnWatchdogStateChangedDelegate[] = [];\r\n    private _commandReceivedDelegates: OnCommandReceivedDelegate[] = [];\r\n    private _digitalSwitchingHeartbeatTimestamp: number = 0;\r\n    private _lastReceivedMessageTimestamp: number = 0;\r\n    private _wduSendsHeartbeat: boolean;\r\n    private _oldHeartbeatDurationDivider: number = 0;\r\n    private _watchdogDuration: number = 2000;\r\n    private _protocolVersion: number[] = [1, 0, 0];\r\n    private _wduInfoReceived: boolean = false;\r\n    private _contentDecoder: WebSocketContentDecoder\r\n    private _receivedNmeaDataMap: Map<number, StatusUpdateDataContent> = new Map<number, StatusUpdateDataContent>();\r\n    private _receivedMfdDataMap: Map<number, MfdStatusUpdateDataContent> = new Map<number, MfdStatusUpdateDataContent>();\r\n\r\n    constructor(webSocketManager: WebSocketManager, contentDecoder: WebSocketContentDecoder) {\r\n        this._webSocketManager = webSocketManager;\r\n        this._contentDecoder = contentDecoder;\r\n        this._webSocketManager.addOnDataReceivedDelegate((data: any) => this._onMessageReceived(data));\r\n        this._lastReceivedMessageTimestamp = Timer.timestamp();\r\n        setTimeout(() => this._watchdogLoop(), this._watchdogDuration * 2);\r\n    }\r\n    public getProtocolVersion(): number[] {\r\n        return this._protocolVersion;\r\n    }\r\n    public addOnNmeaValueReceivedDelegate(signalId: number, delegate: OnNmeaValueReceivedDelegate): void {\r\n        let delegates: OnNmeaValueReceivedDelegate[] = [];\r\n        if (this._nmeaValueReceivedDelegatesMap.has(signalId)) {\r\n            delegates = this._nmeaValueReceivedDelegatesMap.get(signalId);\r\n        } else {\r\n            this._nmeaValueReceivedDelegatesMap.set(signalId, delegates);\r\n        }\r\n        delegates.push(delegate);\r\n    }\r\n    public addOnMfdValueReceivedDelegate(signalId: number, delegate: OnMfdValueReceivedDelegate): void {\r\n        let delegates: OnMfdValueReceivedDelegate[] = [];\r\n        if (this._mdfValueReceivedDelegatesMap.has(signalId)) {\r\n            delegates = this._mdfValueReceivedDelegatesMap.get(signalId);\r\n        } else {\r\n            this._mdfValueReceivedDelegatesMap.set(signalId, delegates);\r\n        }\r\n        delegates.push(delegate);\r\n    }\r\n    public addOnCommandReceivedDelegate(delegate: OnCommandReceivedDelegate): void {\r\n        this._commandReceivedDelegates.push(delegate);\r\n    }\r\n\r\n    public addWatchdogStateChangedDelegate(delegate: OnWatchdogStateChangedDelegate): void {\r\n        this._onWatchdogStateChangesDelegates.push(delegate);\r\n        delegate(this.watchdogState)\r\n    }\r\n\r\n    public removeOnWathdogStateChangedDelegate(delegate: OnWatchdogStateChangedDelegate): void {\r\n        for (let i = 0; i < this._onWatchdogStateChangesDelegates.length; i++) {\r\n            if (this._onWatchdogStateChangesDelegates[i] === delegate) {\r\n                this._onWatchdogStateChangesDelegates.splice(i, 1);\r\n                return;\r\n            }\r\n        }\r\n    }\r\n\r\n    public send(command: any): void {\r\n        this._webSocketManager.sendJson(command);\r\n    }\r\n\r\n    private _notifyMdfValueSubscribers(data: MfdStatusUpdateDataContent): void {\r\n        // to avoid multiple calls to the same data, only notify if the data has changed\r\n        if (!this._isNewMfdData(data)) {\r\n            return;\r\n        }\r\n        const delegates = this._mdfValueReceivedDelegatesMap.get(data.signalId);\r\n        if (delegates == null) {\r\n            return;\r\n        }\r\n        for (const delegate of delegates) {\r\n            delegate(data);\r\n        }\r\n    }\r\n\r\n    private _notifyNmeaValueSubscribers(data: StatusUpdateDataContent): void {\r\n        // to avoid multiple calls to the same data, only notify if the data has changed\r\n        if (!this._isNewNmeaData(data)) {\r\n            return;\r\n        }\r\n        const delegates = this._nmeaValueReceivedDelegatesMap.get(data.signalId);\r\n        if (delegates == null) {\r\n            return;\r\n        }\r\n        for (const delegate of delegates) {\r\n            delegate(data);\r\n        }\r\n    }\r\n\r\n    private _isNewMfdData(data: MfdStatusUpdateDataContent): boolean {\r\n        if (this._receivedMfdDataMap.has(data.signalId)) {\r\n            const oldData = this._receivedMfdDataMap.get(data.signalId);\r\n            if (oldData.equals(data)) {\r\n                return false;\r\n            }\r\n        }\r\n        this._receivedMfdDataMap.set(data.signalId, data);\r\n        return true;\r\n    }\r\n\r\n    private _isNewNmeaData(data: StatusUpdateDataContent): boolean {\r\n        if (this._receivedNmeaDataMap.has(data.signalId)) {\r\n            const oldData = this._receivedNmeaDataMap.get(data.signalId);\r\n            if (oldData.equals(data)) {\r\n                return false;\r\n            }\r\n        }\r\n        this._receivedNmeaDataMap.set(data.signalId, data);\r\n        return true;\r\n    }\r\n\r\n    private _onMessageReceived(message: WebsocketMessage): void {\r\n        this._lastReceivedMessageTimestamp = Timer.timestamp();\r\n        switch (message.messagetype) {\r\n            case MessageTypeCode.mfdStatus:\r\n                // message.id = message.data[0] | (message.data[1] << 8); // Why is this done\r\n                this._propagateMfdMessage(this._contentDecoder.decodeMFDChannelItem(message))\r\n\r\n                break;\r\n            case MessageTypeCode.nmeaMsg:\r\n                // message.id = message.data[0] | (message.data[1] << 8); // Why is this done\r\n                this._propagateNmeaMessage(this._contentDecoder.decodeN2KDataItem(message))\r\n                break;\r\n            case MessageTypeCode.systemCmd:\r\n\r\n                if (message.messagecmd === SystemCommandTypes.wduInfo) {\r\n                    // WDU Info.\r\n                    /*\t\t\t\tWDU Protocol Version MSB\t0x00-0xFF\r\n                                    WDU Protocol Version LSB\t0x00-0xFF\r\n                                    WDU Application Firmware Version MSB\t0x00-0xFF\r\n                                    WDU  Application Firmware Version MSB\t0x00-0xFF\r\n                                    WDU BaseImage Version MSB\t0x00-0xFF\r\n                                    WDU BaseImage Version LSB\t0x00-0xFF\r\n                                    WDU Model Nr\t0x00000000-0xFFFFFFFF\r\n                                    WDU Serial Nr\t0x00000000-0xFFFFFFFF\r\n                                    NMEA 2000 Source Address\t0-253*/\r\n\r\n                    this._wduSendsHeartbeat = (message.data[0] > 1 || (message.data[0] === 1 && message.data[1] >= 2));\r\n                    this._protocolVersion[0] = message.data[0];\r\n                    this._protocolVersion[1] = message.data[1];\r\n                    this._wduInfoReceived = true;\r\n                    Log.logVerbose(`WDU Info Received. Enable WDU heartbeat set to ${this._wduSendsHeartbeat}`);\r\n                    for (const delegate of this._commandReceivedDelegates) {\r\n                        delegate(Command.wduInfoReceived);\r\n                    }\r\n\r\n                } else if (message.messagecmd === SystemCommandTypes.serviceProviderHeartbeat) { // 0x00 - Service Provider HeartBeat\r\n                    this.configurationChecksumFromWDU = (message.data[1] | (message.data[2] << 8) | (message.data[3] << 16) | (message.data[4] << 24)) >>> 0;\r\n                    this._digitalSwitchingHeartbeatTimestamp = Timer.timestamp();\r\n                    if (this.configurationChecksumFromWDU !== 0) { // When 0, no heartbet from WDU has not beed received from master. => Do not check watchdog yet since it will cause a checksum missmatch\r\n                        this._checkWatchdog();\r\n                    }\r\n                    for (const delegate of this._commandReceivedDelegates) {\r\n                        delegate(Command.checksumReceived);\r\n                    }\r\n                    Log.logVerbose('Service provider heartbeat received');\r\n                } else if (message.messagecmd === SystemCommandTypes.wduHeartbeat) { // 0x05 - WDU Host Heartbeat\r\n                    Log.logDebug('Received wdu heart beat.')\r\n                    this.send(Protocol.receivedWduHeartbetAckCommand());\r\n                } else if (message.messagecmd === SystemCommandTypes.wduSettingsUpdated) {\r\n                    for (const delegate of this._commandReceivedDelegates) {\r\n                        delegate(Command.settingsUpdated);\r\n                    }\r\n                } else if (message.messagecmd === SystemCommandTypes.applicationSelection) {\r\n                    for (const delegate of this._commandReceivedDelegates) {\r\n                        delegate(Command.applicationSelectionListReceived, message.extradata);\r\n                    }\r\n                }\r\n                break;\r\n            case MessageTypeCode.clientControlCommand:\r\n                if (message.messagecmd === ClientControlCommands.forceReload) {\r\n                    for (const delegate of this._commandReceivedDelegates) {\r\n                        delegate(Command.forcePageReload);\r\n                    }\r\n                    // TODO: Move to delegate?\r\n                    setTimeout(() => {\r\n                        window.location.reload();\r\n                    }, 5000);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    private _propagateMfdMessage(data: MfdStatusUpdateDataContent): void {\r\n        if (data == null) {\r\n            return;\r\n        }\r\n        this._notifyMdfValueSubscribers(data);\r\n        const virtualSignals = this._contentDecoder.getVirtualSignals(data.signalId);\r\n        for (const virtualSignal of virtualSignals) {\r\n            const vData = new MfdStatusUpdateDataContent();\r\n            // ternary if statement to force service unavailability if the source signal is unavailable.\r\n            vData.unavailable = data.unavailable ? true : this._evaluate(data.value, virtualSignal.unAvailableExpression);\r\n            vData.onOffStatus = this._evaluate(data.value, virtualSignal.statusExpression);\r\n            vData.signalId = virtualSignal.signalId;\r\n            vData.type = MfdStatusType.momentary;\r\n            this._notifyMdfValueSubscribers(vData);\r\n        }\r\n    }\r\n\r\n    private _propagateNmeaMessage(data: StatusUpdateDataContent): void {\r\n        if (data == null) {\r\n            return;\r\n        }\r\n        this._notifyNmeaValueSubscribers(data);\r\n        const virtualSignals = this._contentDecoder.getVirtualSignals(data.signalId);\r\n        for (const virtualSignal of virtualSignals) {\r\n            const vData = new MfdStatusUpdateDataContent();\r\n            // ternary if statement to force service unavailability if the source signal is unavailable.\r\n            vData.unavailable = data.unavailable ? true : this._evaluate(data.value, virtualSignal.unAvailableExpression);\r\n            vData.onOffStatus = this._evaluate(data.value, virtualSignal.statusExpression);\r\n            vData.type = MfdStatusType.momentary;\r\n            vData.signalId = virtualSignal.signalId;\r\n            this._notifyMdfValueSubscribers(vData);\r\n        }\r\n    }\r\n\r\n    private _evaluate(signalValue: number, expression: VirtualSignalExpr): boolean {\r\n        switch (expression.expressionType) {\r\n            case ExpressionType.disabled:\r\n                return false;\r\n            case ExpressionType.equal:\r\n                return signalValue === expression.valueA;\r\n            case ExpressionType.notEqual:\r\n                return signalValue !== expression.valueA;\r\n            case ExpressionType.greaterThan:\r\n                return signalValue > expression.valueA;\r\n            case ExpressionType.lessThan:\r\n                return signalValue < expression.valueA;\r\n            case ExpressionType.greaterThanOrEqual:\r\n                return signalValue >= expression.valueA;\r\n            case ExpressionType.lessThanOrEqual:\r\n                return signalValue <= expression.valueA\r\n            case ExpressionType.between:\r\n                return signalValue > expression.valueA && signalValue < expression.valueB;\r\n            case ExpressionType.notBetween:\r\n                return !(signalValue > expression.valueA && signalValue < expression.valueB);\r\n        }\r\n    }\r\n\r\n    private _onWatchdogStateChanged(state: WatchdogStates): void {\r\n        if (this.watchdogState !== state) {\r\n            Log.logInfo(`Watchdog state changed to: ${state}`);\r\n            this.watchdogState = state;\r\n            for (const delegate of this._onWatchdogStateChangesDelegates) {\r\n                delegate(state);\r\n            }\r\n            this._requestWduInfo();\r\n        }\r\n    }\r\n\r\n    private _requestWduInfo(): void {\r\n        Log.logVerbose('Request WDU Info');\r\n        this.send(Protocol.requestWduInfoCommand());\r\n    }\r\n\r\n    private _checkWatchdog(): number {\r\n\r\n        let nextDelay = this._watchdogDuration;\r\n        this._oldHeartbeatDurationDivider++;\r\n        if (Timer.elapsedSeconds(this._lastReceivedMessageTimestamp) > 10) {\r\n            nextDelay = 9000;\r\n            this._onWatchdogStateChanged(WatchdogStates.noConnectionToWdu);\r\n            this._webSocketManager.connect();\r\n            Log.logInfo('No heartbeat from WDU received! Recreate websocket');\r\n        } else if (this.watchdogState === WatchdogStates.noConnectionToWdu) {\r\n            this._onWatchdogStateChanged(WatchdogStates.noConnectionToDigitalSwitching);\r\n        }\r\n\r\n        if (!this._wduSendsHeartbeat && this._oldHeartbeatDurationDivider > 1 && Timer.elapsedSeconds(this._lastReceivedMessageTimestamp) > 4 || !this._wduInfoReceived) { // Old WDU firmware without wdu heartbeat need this handling\r\n            Log.logVerbose('Send heartbeat for older wdu firmwares');\r\n            this._requestWduInfo();\r\n            this._oldHeartbeatDurationDivider = 0;\r\n        }\r\n\r\n        if (this.watchdogState !== WatchdogStates.noConnectionToWdu) {\r\n            if (Timer.elapsedSeconds(this._digitalSwitchingHeartbeatTimestamp) > 12) {\r\n                this._onWatchdogStateChanged(WatchdogStates.noConnectionToDigitalSwitching);\r\n            } else {\r\n                this._onWatchdogStateChanged(WatchdogStates.ok);\r\n            }\r\n        }\r\n        return nextDelay;\r\n\r\n    }\r\n\r\n    private _watchdogLoop(): void {\r\n        const nextDelay = this._checkWatchdog()\r\n        setTimeout(() => this._watchdogLoop(), nextDelay);\r\n\r\n    }\r\n}\r\n\r\n\r\n","// eslint-disable-next-line no-shadow\r\nexport enum SignalInfoType {\r\n    mfd = 0,\r\n    nmea = 1,\r\n    virtual = 2\r\n}\r\n","import { FileLoadHelper } from './file-load-helper';\r\nimport { ICommunicationHandler, Command } from './communication/communication-handler';\r\n\r\nexport interface ISettingsReader {\r\n    readonly isLoaded: boolean;\r\n    readonly settings: SettingRow[];\r\n    load(): Promise<void>;\r\n    getSetting(key: SettingKey): string;\r\n    addOnSettingsReloadedDelegate(delegate: OnSettingsReloadedDelegate): void;\r\n\r\n}\r\n\r\nexport type OnSettingsReloadedDelegate = () => void;\r\nexport class SettingsReader implements ISettingsReader {\r\n    private _settings: SettingRow[] = [];\r\n    private _communicationHandler: ICommunicationHandler = null;\r\n    private _onSettingsChangedDelegate: OnSettingsReloadedDelegate[] = [];\r\n\r\n    constructor(communicationHandler: ICommunicationHandler) {\r\n        this._communicationHandler = communicationHandler;\r\n        this._communicationHandler.addOnCommandReceivedDelegate((command: Command) => this._onCommandReceived(command));\r\n    }\r\n\r\n    public async load(): Promise<void> {\r\n        const data = await FileLoadHelper.getJsonFile('wduSettings.json');\r\n        this._settings.splice(0, this._settings.length);\r\n        for (const setting of data.Settings) {\r\n            if (setting.isExternalSetting == null) {\r\n                setting.isExternalSetting = false;\r\n            }\r\n            if (setting.isOverridden == null) {\r\n                setting.isOverridden = false;\r\n            }\r\n            this.settings.push(setting as SettingRow);\r\n        }\r\n        for (const delegate of this._onSettingsChangedDelegate) {\r\n            delegate();\r\n        }\r\n    }\r\n\r\n    public get isLoaded(): boolean {\r\n        return this._settings.length > 0;\r\n    }\r\n\r\n    public get settings(): SettingRow[] {\r\n        return this._settings;\r\n    }\r\n    public getSetting(key: SettingKey): string {\r\n        return this._settings.find((s: any) => s.title === key).currentSetting.symbol;\r\n    }\r\n\r\n    public addOnSettingsReloadedDelegate(delegate: OnSettingsReloadedDelegate): void {\r\n        this._onSettingsChangedDelegate.push(delegate);\r\n    }\r\n\r\n    private _onCommandReceived(command: Command): void {\r\n        switch (command) {\r\n            case Command.settingsUpdated:\r\n                void this.load();\r\n                break;\r\n\r\n        }\r\n    }\r\n}\r\n\r\nexport class SettingRow {\r\n    public title: string = '';\r\n    public description: string = '';\r\n    public currentSetting: SettingData = null;\r\n    public possibleChoices: SettingChoiceData[] = [];\r\n}\r\n\r\nexport class SettingData {\r\n    public symbol: string = '';\r\n    public description: string = '';\r\n    public isOverridden: boolean = false;\r\n    public isExternalSetting: boolean = true;\r\n\r\n}\r\n\r\nexport class SettingChoiceData {\r\n    public symbol: string = '';\r\n    public description: string = '';\r\n}\r\n\r\n// eslint-disable-next-line no-shadow\r\nexport enum SettingKey {\r\n    language = 'Language',\r\n    depth = 'Depth',\r\n    distanceUnit = 'DistanceUnit',\r\n    fuelEconomyUnit = 'FuelEconomyUnit',\r\n    height = 'Height',\r\n    pressure = 'Pressure',\r\n    atmosphericPressure = 'AtmosphericPressure',\r\n    speed = 'Speed',\r\n    temperature = 'Temperature',\r\n    volume = 'Volume',\r\n    volumeRate = 'VolumeRate',\r\n    screensaver = 'ScreenSaver'\r\n\r\n}\r\n","export class Timer {\r\n\r\n    private static _ticks: number = 0;\r\n    private static _isStarted: boolean = false;\r\n\r\n    public static start(): void {\r\n        if (this._isStarted) {\r\n            return;\r\n        }\r\n        this._isStarted = true;\r\n        window.setInterval(() => Timer._incrementTicks(), 1000);\r\n\r\n    }\r\n    public static timestamp(): number {\r\n        return Timer._ticks;\r\n    }\r\n\r\n    public static elapsedSeconds(ticks: number): number {\r\n        return Timer._ticks - ticks;\r\n    }\r\n\r\n    private static _incrementTicks(): void {\r\n        Timer._ticks++;\r\n    }\r\n}\r\n","import { Log } from './log';\r\n\r\n/* eslint-disable no-console */\r\nexport class FileLoadHelper {\r\n\r\n    public static xhrRequest(xhr: XMLHttpRequest, method: string, url: string): Promise<any> {\r\n        return new Promise((resolve, reject) => {\r\n            xhr.open(method, url, true);\r\n            xhr.onload = () => {\r\n                if (xhr.status >= 200 && xhr.status < 400) {\r\n                    resolve(xhr.response);\r\n                } else {\r\n                    Log.logError(`Error response from xhrRequest, url: ${url}`, xhr.statusText);\r\n                    reject({\r\n                        status: xhr.status,\r\n                        statusText: xhr.statusText\r\n                    });\r\n                }\r\n            };\r\n            xhr.onerror = (ev: ProgressEvent<EventTarget>) => {\r\n                Log.logError(xhr, ev);\r\n                reject({\r\n                    status: xhr.status,\r\n                    statusText: xhr.statusText\r\n                });\r\n            };\r\n            xhr.send();\r\n        });\r\n    }\r\n\r\n    public static getJsonFile(fileName: string): Promise<any> {\r\n        const xhr = new XMLHttpRequest();\r\n        xhr.overrideMimeType('application/json');\r\n        xhr.responseType = 'json';\r\n        const promise = (resolve: (value: any) => void, reject: (reason?: any) => void) => {\r\n            xhr.open('GET', fileName, true);\r\n            xhr.onload = () => {\r\n                if (xhr.status >= 200 && xhr.status < 400) {\r\n                    resolve(xhr.response);\r\n                } else {\r\n                    Log.logError(`Error loading file ${fileName}`, xhr.statusText);\r\n                    reject({\r\n                        status: xhr.status,\r\n                        statusText: xhr.statusText\r\n                    });\r\n                }\r\n            };\r\n            xhr.onerror = (ev: ProgressEvent<EventTarget>) => {\r\n                Log.logError(xhr, ev);\r\n                reject({\r\n                    status: xhr.status,\r\n                    statusText: xhr.statusText\r\n                });\r\n            };\r\n            xhr.send();\r\n        };\r\n        return FileLoadHelper.retryPromise(promise, 10);\r\n    }\r\n\r\n    public static async retryPromise<T>(fn: (resolve: (value: T | PromiseLike<T>) => void, reject: (reason?: any) => void) => void, retries: number, interval = 100): Promise<T> {\r\n        try {\r\n            // try to resolve the promise\r\n            const data = await new Promise(fn);\r\n            // if resolved simply return the result back to the caller\r\n            return data;\r\n        } catch (e) {\r\n            // if the promise fails and we are down to 1 try we reject\r\n            if (retries > 0) {\r\n                await new Promise(r => setTimeout(r, interval));\r\n                return FileLoadHelper.retryPromise(fn, retries - 1, interval);\r\n            }\r\n            Log.logError(`Failed to execute promise, retries left ${retries}`);\r\n            return Promise.reject(e);\r\n        }\r\n    }\r\n}\r\n","import { FileLoadHelper } from '../file-load-helper';\r\nimport { WebsocketMessage, StatusUpdateDataContent, MfdStatusUpdateDataContent, MfdStatusCommandTypes, NmeaMessageCommandTypes, MfdStatusType, ValueDataType } from './protocol';\r\nimport { SignalInfo } from '../signals/signal-info';\r\nimport { SignalInfoType } from '../signals/signal-info-type';\r\nimport { VirtualSignalInfo } from '../signals/virtual-signal-info';\r\n\r\n\r\nexport class WebSocketContentDecoder {\r\n\r\n    public get useChannelItems(): boolean {\r\n        return this._useChannelItems;\r\n    }\r\n    private _useChannelItems: boolean;\r\n    private _nmeaSignalInfoMap: Map<number, SignalInfo> = new Map<number, SignalInfo>();\r\n    private _virtualSignalInfoMap: Map<number, VirtualSignalInfo[]> = new Map<number, VirtualSignalInfo[]>();\r\n\r\n    public decodeN2KDataItem(wsMessage: WebsocketMessage): StatusUpdateDataContent {\r\n        if (wsMessage.messagecmd === NmeaMessageCommandTypes.statusUpdate) {\r\n            const signalId = (wsMessage.data[0] | (wsMessage.data[1] << 8));\r\n            const nmeaStatusContent: StatusUpdateDataContent = new StatusUpdateDataContent();\r\n            nmeaStatusContent.signalId = signalId;\r\n            nmeaStatusContent.unavailable = (wsMessage.data[2] & 0x80) === 0 ? false : true;\r\n            nmeaStatusContent.valueTypeIdentifier = (wsMessage.data[3] | (wsMessage.data[4] << 8));\r\n            nmeaStatusContent.value = this._getValue(signalId, wsMessage.data, 5);\r\n            return nmeaStatusContent;\r\n        }\r\n        return null;\r\n    }\r\n\r\n    public decodeMFDChannelItem(wsMessage: WebsocketMessage): MfdStatusUpdateDataContent {\r\n        const signalId = wsMessage.data[0] | (wsMessage.data[1] << 8);\r\n        const content: MfdStatusUpdateDataContent = new MfdStatusUpdateDataContent();\r\n        content.signalId = signalId;\r\n\r\n        if (wsMessage.messagecmd === MfdStatusCommandTypes.statusUpdate) {\r\n            content.signalId = signalId;\r\n            content.type = MfdStatusType.statusUpdate;\r\n            content.valueTypeIdentifier = wsMessage.data[3];\r\n            content.value = this._getInt32Value(signalId, wsMessage.data, 4);\r\n\r\n            // content.value = (wsMessage.data[7] << 24) | (wsMessage.data[6] << 16) | (wsMessage.data[5] << 8) | (wsMessage.data[4] << 0);\r\n            content.unavailable = (wsMessage.data[2] & 0x80) === 0 ? false : true;\r\n            return content;\r\n        } else if (wsMessage.messagecmd === MfdStatusCommandTypes.toggle) {\r\n            content.type = MfdStatusType.pulse; // This is the base type. Checked by receiver that it matches!\r\n            content.onOffStatus = (wsMessage.data[2] & 0x01) === 0 ? false : true;\r\n            content.err1FT = (wsMessage.data[2] & 0x02) === 0 ? false : true;\r\n            content.err2UC = (wsMessage.data[2] & 0x08) === 0 ? false : true;\r\n            content.unavailable = (wsMessage.data[2] & 0x80) === 0 ? false : true;\r\n            return content;\r\n        } else if (wsMessage.messagecmd === MfdStatusCommandTypes.momentary) {\r\n            content.type = MfdStatusType.momentary; // This is the base type. Checked by receiver that it matches!\r\n            content.onOffStatus = (wsMessage.data[2] & 0x01) === 0 ? false : true;\r\n            content.err1FT = (wsMessage.data[2] & 0x02) === 0 ? false : true;\r\n            content.err2UC = (wsMessage.data[2] & 0x08) === 0 ? false : true;\r\n            content.unavailable = (wsMessage.data[2] & 0x80) === 0 ? false : true;\r\n            return content;\r\n        } else if (wsMessage.messagecmd === MfdStatusCommandTypes.dimmerUpdate) {\r\n            content.type = MfdStatusType.dimmer; // This is the base type. Checked by receiver that it matches!\r\n            content.onOffStatus = (wsMessage.data[2] & 0x01) === 0 ? false : true;\r\n            content.err1FT = (wsMessage.data[2] & 0x02) === 0 ? false : true;\r\n            content.err2UC = (wsMessage.data[2] & 0x08) === 0 ? false : true;\r\n            content.unavailable = (wsMessage.data[2] & 0x80) === 0 ? false : true;\r\n            content.dimmerValue = (wsMessage.data[3] | (wsMessage.data[4] << 8));\r\n            return content;\r\n        } else {\r\n            return null;\r\n        }\r\n    }\r\n\r\n    public getVirtualSignals(sourceSignalId: number): VirtualSignalInfo[] {\r\n        const res = this._virtualSignalInfoMap.get(sourceSignalId);\r\n        return res != null ? res : [];\r\n    }\r\n\r\n    private _getInt32Value(_signalId: number, source: number[], startIndex: number): number {\r\n        const buffer = new Uint8Array(source);\r\n        const dataView2 = new DataView(buffer.buffer);\r\n        return dataView2.getInt32(startIndex, true);\r\n    }\r\n\r\n    private _getValue(signalId: number, source: number[], startIndex: number): number {\r\n        const buffer = new Uint8Array(source);\r\n        const dataView2 = new DataView(buffer.buffer);\r\n        let dataType: ValueDataType = ValueDataType.int32;\r\n\r\n        if (this.useChannelItems) {\r\n            const mapDt = this._nmeaSignalInfoMap.get(signalId);\r\n            dataType = mapDt != null ? mapDt.dataType : ValueDataType.int32;\r\n        }\r\n        switch (dataType) {\r\n            case ValueDataType.int8:\r\n                return dataView2.getInt8(startIndex);\r\n            case ValueDataType.uint8:\r\n                return dataView2.getUint8(startIndex);\r\n            case ValueDataType.int16:\r\n                return dataView2.getInt16(startIndex, true);\r\n            case ValueDataType.uint16:\r\n                return dataView2.getUint16(startIndex, true);\r\n            case ValueDataType.int32:\r\n                return dataView2.getInt32(startIndex, true);\r\n            case ValueDataType.uint32:\r\n                return dataView2.getUint32(startIndex, true);\r\n            case ValueDataType.int64:\r\n                return new Number(dataView2.getBigInt64(startIndex, true)).valueOf(); // The will probably not work for large values\r\n            case ValueDataType.uint64:\r\n                return new Number(dataView2.getBigUint64(startIndex, true)).valueOf(); // The will probably not work for large values\r\n            case ValueDataType.bit:\r\n                return dataView2.getUint8(startIndex) & 0x01;\r\n        }\r\n    }\r\n\r\n    public async initialize(useChannelItemsFile: boolean): Promise<void> {\r\n        this._useChannelItems = useChannelItemsFile;\r\n        if (useChannelItemsFile) {\r\n            const file = await FileLoadHelper.getJsonFile('signal-info.json') as SignalInfo[];\r\n            if (file != null) {\r\n                for (const info of file.filter(i => i.type === SignalInfoType.nmea)) {\r\n                    this._nmeaSignalInfoMap.set(info.signalId, info);\r\n                }\r\n\r\n                for(const info of file.filter(i => i.type === SignalInfoType.virtual)) {\r\n                    const sourceSignalId = (info as VirtualSignalInfo).sourceSignalId;\r\n                    if(this._virtualSignalInfoMap.has(sourceSignalId)){\r\n                        const existingSignals = this._virtualSignalInfoMap.get(sourceSignalId) ;\r\n                        existingSignals.push(info as VirtualSignalInfo);\r\n                    } else {\r\n                        this._virtualSignalInfoMap.set(sourceSignalId, [info as VirtualSignalInfo]);\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n}\r\n","export class UrlHelper {\r\n    public static cleanUrl(url: string): string {\r\n        if (!url.includes('?')) {\r\n            return url;\r\n        }\r\n\r\n        const urlParts = url.split('?');\r\n        let retValue = url;\r\n        urlParts.forEach((urlPart, i) => {\r\n            if (i === 0) {\r\n                retValue = urlPart;\r\n                retValue += '?';\r\n            }\r\n            else {\r\n                retValue += urlPart;\r\n                retValue += '&';\r\n            }\r\n        });\r\n        retValue = retValue.substring(0, retValue.length -1)\r\n        return retValue;\r\n    }\r\n\r\n    public static getUrlParamValue(param: string): string {\r\n        const url = new URL(UrlHelper.cleanUrl(window.location.href)).searchParams;\r\n        const paramValue = url.get(param);\r\n        if (paramValue == null) {\r\n            return '';\r\n        }\r\n        return paramValue;\r\n    }\r\n    public static removeUrlParameter(param: string): void {\r\n        const url = this.removeUrlParameterHref(param, window.location.href);\r\n        window.history.pushState('', '', url.toString());\r\n    }\r\n    public static removeUrlParameterHref(param: string, href: string): string {\r\n        const url = new URL(UrlHelper.cleanUrl(href));\r\n        url.searchParams.delete(param);\r\n        return url.toString();\r\n    }\r\n    public static getPathWithReturnUrl(path: string, extraReturnUrlParams: Map<string, string>): string {\r\n        const url = new URL(window.location.href);\r\n        extraReturnUrlParams.forEach((value, key) => {\r\n            url.searchParams.append(key, value);\r\n        });\r\n        return path + '?returnUrl=' + encodeURIComponent(url.toString());\r\n    }\r\n\r\n    public static createUrlWithReturnParameter(navigationUrl: string, pageId: string = null): string {\r\n\r\n        if (navigationUrl === '') {\r\n            return '';\r\n        }\r\n        const hostUrl = 'http://' + window.location.host;\r\n        // const hostUrl = 'http://172.16.16.0'; //Use when debugging locally\r\n        let settingsUrl = `${hostUrl}/${navigationUrl}`;\r\n        const urlHref = UrlHelper.cleanUrl(window.location.href);\r\n        const appUrl = new URL(urlHref);\r\n        const returnUrls = appUrl.searchParams.getAll('returnUrl');\r\n\r\n        // clear all returnUrls and add them in order\r\n        appUrl.searchParams.delete('returnUrl');\r\n\r\n        if (pageId != null) {\r\n            appUrl.searchParams.append('pageId', pageId);\r\n        }\r\n        const encodedAppUrl = encodeURIComponent(appUrl.toString())\r\n\r\n        const urlAppends = [];\r\n\r\n        returnUrls.forEach(url => {\r\n            urlAppends.push('returnUrl=' + encodeURIComponent(url));\r\n        })\r\n        urlAppends.push('returnUrl=' + encodedAppUrl);\r\n\r\n        urlAppends.forEach((append, i) => {\r\n            if (i === 0)\r\n                settingsUrl += '?'\r\n            else\r\n                settingsUrl += '&'\r\n            settingsUrl += append;\r\n        })\r\n        return settingsUrl;\r\n\r\n    }\r\n}","export class HtmlHelpers {\r\n    public static hideElement(element: HTMLElement): void {\r\n        if (element != null) {\r\n            element.classList.add('hidden');\r\n        }\r\n    }\r\n\r\n    public static showElement(element: HTMLElement): void {\r\n        if (element != null) {\r\n            element.classList.remove('hidden');\r\n        }\r\n    }\r\n\r\n    public static setElementVisibility(element: HTMLElement, visible: boolean): void {\r\n        if (element != null) {\r\n            if (visible === true) {\r\n                this.showElement(element);\r\n            } else {\r\n                this.hideElement(element);\r\n            }\r\n        }\r\n    }\r\n\r\n    public static debounce(func: () => void, wait: number, immediate: boolean): () => void {\r\n        let timeout: any;\r\n        return () => {\r\n            // TODO: Get rid of these warnings\r\n            // eslint-disable-next-line @typescript-eslint/no-this-alias\r\n            const context = this;\r\n            // eslint-disable-next-line prefer-rest-params\r\n            const args = arguments;\r\n            const later = () => {\r\n                timeout = null;\r\n                if (!immediate) {\r\n                    func.apply(context, args);\r\n                }\r\n            };\r\n            const callNow = immediate && !timeout;\r\n            clearTimeout(timeout);\r\n            timeout = setTimeout(later, wait);\r\n            if (callNow) {\r\n                func.apply(context, args);\r\n            }\r\n        };\r\n    }\r\n\r\n}\r\n\r\nexport class NumberHelpers {\r\n\r\n    public static round(number: number, precision: number): number {\r\n        const shift = (numberArg: number, precisionArg: number, reverseShiftArg: boolean) => {\r\n            if (reverseShiftArg) {\r\n                precisionArg = -precisionArg;\r\n            }\r\n            const numArray = ('' + numberArg).split('e');\r\n            return +(numArray[0] + 'e' + (numArray[1] ? (+numArray[1] + precisionArg) : precisionArg));\r\n        };\r\n        return shift(Math.round(shift(number, precision, false)), precision, true);\r\n    }\r\n\r\n    public static parseBooleanArgument(arg: any): boolean {\r\n        if (arg === undefined) {\r\n            return false;\r\n        }\r\n        else if (typeof (arg) === 'boolean') {\r\n            return arg;\r\n        }\r\n        else if (typeof (arg) === 'string') {\r\n            return arg.toLowerCase() === 'true';\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    }\r\n\r\n    public static clamp(value: number, min: number, max: number): number {\r\n        if (value > max) {\r\n            return max;\r\n        }\r\n        if (value < min) {\r\n            return min;\r\n        }\r\n        return value;\r\n    }\r\n}\r\n","import { HtmlHelpers } from '../graphics/helpers';\r\n\r\nexport class AppSelectorLinkTimer {\r\n    private _globalMouseUpEvent: (event: MouseEvent) => boolean;\r\n    private _globalMouseMoveEvent: (event: MouseEvent) => boolean;\r\n    private _globalTouchEndEvent: (event: TouchEvent) => boolean;\r\n    private _globalTouchMoveEvent: (event: TouchEvent) => boolean;\r\n    private _timeout: any;\r\n    private _onExecute: () => void;\r\n    public spinner: HTMLDivElement;\r\n    public progressBarWrapper: HTMLDivElement;\r\n    public progressBar: HTMLDivElement;\r\n    public active: boolean = false;\r\n    public startPosX: number;\r\n    public startPosY: number;\r\n\r\n    constructor(onExecute: () => void) {\r\n        this.spinner = document.querySelector('.app-selector-link-timer');\r\n        HtmlHelpers.hideElement(this.spinner);\r\n        this._onExecute = onExecute;\r\n        document.addEventListener('mousedown', (event) => {\r\n            if (this.active) {\r\n                clearTimeout(this._timeout);\r\n            }\r\n            document.addEventListener('mouseup', this._globalMouseUpEvent);\r\n            document.addEventListener('mousemove', this._globalMouseMoveEvent);\r\n            this.activate(event.clientX, event.clientY);\r\n            return false;\r\n        });\r\n\r\n        document.addEventListener('touchstart', (event) => {\r\n            if (this.active) {\r\n                clearTimeout(this._timeout);\r\n            }\r\n            document.addEventListener('touchend', this._globalTouchEndEvent);\r\n            document.addEventListener('touchcancel', this._globalTouchEndEvent);\r\n            document.addEventListener('touchmove', this._globalTouchMoveEvent, { passive: true });\r\n\r\n            const evt = (event as any).originalEvent === undefined ? event : (event as any).originalEvent;\r\n            this.activate(evt.touches[0].clientX, evt.touches[0].clientY);\r\n            return false;\r\n        }, { passive: true });\r\n\r\n        this._globalMouseUpEvent = (_event) => {\r\n            this.deactivate();\r\n\r\n            document.removeEventListener('mouseup', this._globalMouseUpEvent);\r\n            document.removeEventListener('mousemove', this._globalMouseMoveEvent);\r\n            return false;\r\n        };\r\n\r\n        this._globalMouseMoveEvent = (event) => {\r\n            if (!this.isMoveDistanceTooLong(event.clientX, event.clientY)) {\r\n                return;\r\n            }\r\n\r\n            this.deactivate();\r\n\r\n            document.removeEventListener('mouseup', this._globalMouseUpEvent);\r\n            document.removeEventListener('mousemove', this._globalMouseMoveEvent);\r\n\r\n            return false;\r\n        };\r\n\r\n        this._globalTouchEndEvent = (_event) => {\r\n            this.deactivate();\r\n\r\n            document.removeEventListener('touchend', this._globalTouchEndEvent);\r\n            document.removeEventListener('touchcancel', this._globalTouchEndEvent);\r\n            document.removeEventListener('touchmove', this._globalTouchMoveEvent);\r\n\r\n            return false;\r\n        };\r\n\r\n        this._globalTouchMoveEvent = (event: any) => {\r\n            const evt = event.originalEvent === undefined ? event : event.originalEvent;\r\n            if (!this.isMoveDistanceTooLong(evt.touches[0].clientX, evt.touches[0].clientY)) {\r\n                return false;\r\n            }\r\n            this.deactivate();\r\n\r\n            document.removeEventListener('touchend', this._globalTouchEndEvent);\r\n            document.removeEventListener('touchcancel', this._globalTouchEndEvent);\r\n            document.removeEventListener('touchmove', this._globalTouchMoveEvent);\r\n\r\n            return false;\r\n        };\r\n    }\r\n\r\n    private activate(posX: number, posY: number): void {\r\n        // If used on a zoomed area (i.e., media-query for appselector screen), adjust the position accordingly.\r\n        const zoom = parseInt(window.getComputedStyle(document.body).getPropertyValue('zoom'));\r\n        if(zoom != null && !isNaN(zoom)) {\r\n            posX /= zoom;\r\n            posY /= zoom;\r\n        }\r\n\r\n        this.active = true;\r\n        this.spinner.style.left = posX + 'px';\r\n        this.spinner.style.top = posY + 'px';\r\n        this.startPosX = posX;\r\n        this.startPosY = posY;\r\n        HtmlHelpers.showElement(this.spinner);\r\n\r\n        this._timeout = setTimeout(() => {\r\n            this._onExecute();\r\n            HtmlHelpers.hideElement(this.spinner);\r\n        }, 10000);\r\n    }\r\n\r\n    private deactivate() : void {\r\n        this.active = false;\r\n        clearTimeout(this._timeout);\r\n        HtmlHelpers.hideElement(this.spinner);\r\n    }\r\n\r\n    private isMoveDistanceTooLong(posX: number, posY: number): boolean {\r\n        const distance = Math.sqrt(Math.pow(this.startPosX - posX, 2) + Math.pow(this.startPosY - posY, 2));\r\n        const maxDistance = 100;\r\n        return distance > maxDistance;\r\n    }\r\n}","import { AppHandler, IncomingApplicationData } from './app-handler';\r\n\r\nclass LanguageSymbolDescription {\r\n    public symbol: string;\r\n    public description: string;\r\n}\r\n\r\nexport class ApplicationItem {\r\n    private _pressEvent: (event: MouseEvent) => void;\r\n    private _unpressEvent: (event: MouseEvent) => void;\r\n    private _onTouchMove: (event: TouchEvent) => void;\r\n    private _applicationElement: HTMLDivElement;\r\n    private _pressActive: boolean;\r\n    private _appHandler: AppHandler;\r\n    public name: string;\r\n    public icon: string;\r\n    public locationHref: string;\r\n    public applicationId: string;\r\n    public isDefaultApplication: boolean;\r\n    public languageDisplayNames: LanguageSymbolDescription[];\r\n    public languageIcons: LanguageSymbolDescription[];\r\n\r\n    constructor(data: IncomingApplicationData, appHandler: AppHandler, isDefaultApplication: boolean, currentLanguage: string) {\r\n        this._appHandler = appHandler;\r\n        this.languageDisplayNames = data.displayNames;\r\n        this.languageIcons = data.icon;\r\n        this._setLanguageProperties(currentLanguage);\r\n        this.locationHref = AppHandler.getApplicationFullPath(data.path);\r\n        this.applicationId = data.identifier;\r\n        this.isDefaultApplication = isDefaultApplication;\r\n\r\n        this._applicationElement = document.createElement('div');\r\n        this._applicationElement.className = isDefaultApplication ? 'application' : 'application application-not-default';\r\n        this._applicationElement.dataset.applicationid = data.identifier;\r\n\r\n        const applicationIconElement = document.createElement('div');\r\n        applicationIconElement.className = 'application-icon';\r\n        this._applicationElement.appendChild(applicationIconElement);\r\n\r\n        const applicationIconImgElement = document.createElement('img');\r\n        applicationIconImgElement.src = this.icon;\r\n        applicationIconElement.appendChild(applicationIconImgElement);\r\n\r\n        const applicationNameElement = document.createElement('div');\r\n        applicationNameElement.innerHTML = this.name;\r\n        applicationNameElement.className = 'application-name';\r\n        this._applicationElement.appendChild(applicationNameElement);\r\n\r\n        const applicationListElement = document.querySelector('.application-list');\r\n        applicationListElement.appendChild(this._applicationElement);\r\n        this._pressEvent = (event) => {\r\n            if (this._pressActive) {\r\n                return false;\r\n            }\r\n            this._pressActive = true;\r\n            ['mouseup', 'touchend', 'touchcancel'].forEach((eventType) => this._applicationElement.addEventListener(eventType, this._unpressEvent));\r\n            event.stopPropagation(); // Needed to stop link timer.\r\n        };\r\n\r\n        this._unpressEvent = (event) => {\r\n            if(!this._pressActive) {\r\n                return false;\r\n            }\r\n            ['mouseup', 'touchend', 'touchcancel'].forEach((eventType) => this._applicationElement.removeEventListener(eventType, this._unpressEvent));\r\n            this._pressActive = false;\r\n            this._onApplicationClick();\r\n            event.preventDefault();\r\n        }\r\n        this._onTouchMove = (_event) => {\r\n            this._pressActive = false;\r\n        }\r\n\r\n        ['mousedown', 'touchstart'].forEach((eventType) => this._applicationElement.addEventListener(eventType, this._pressEvent));\r\n\r\n        ['touchmove'].forEach((eventType) => this._applicationElement.addEventListener(eventType, this._onTouchMove));\r\n    }\r\n\r\n    public languageRefresh(currentLanguage: string): void {\r\n        this._setLanguageProperties(currentLanguage);\r\n\r\n        this._applicationElement.querySelector('.application-name').innerHTML = this.name;\r\n        const imgElement: HTMLImageElement = this._applicationElement.querySelector('.application-icon > img');\r\n        imgElement.src = this.icon;\r\n    }\r\n\r\n    public _setLanguageProperties(currentLanguage: string): void {\r\n        {\r\n            const nameLanguageResult = this.languageDisplayNames.find(ldn => ldn.symbol === currentLanguage);\r\n            if (nameLanguageResult == null) {\r\n                const nameDefaultResult = this.languageDisplayNames.find(ldn => ldn.symbol === 'default');\r\n                if (nameDefaultResult == null) {\r\n                    this.name = this.languageDisplayNames.length > 0 ? this.languageDisplayNames[0].description : 'App';\r\n                }\r\n                else {\r\n                    this.name = nameDefaultResult.description;\r\n                }\r\n            }\r\n            else {\r\n                this.name = nameLanguageResult.description;\r\n            }\r\n        }\r\n\r\n        {\r\n            const iconLanguageResult = this.languageIcons.find(ldn => ldn.symbol === currentLanguage);\r\n            if (iconLanguageResult == null) {\r\n                const iconDefaultResult = this.languageIcons.find(ldn => ldn.symbol === 'default');\r\n                if (iconDefaultResult == null) {\r\n                    this.icon = (this.languageIcons.length > 0 ? this.languageIcons[0].description : 'images/icon-default.png');\r\n                }\r\n                else {\r\n                    this.icon = iconDefaultResult.description;\r\n                }\r\n            }\r\n            else {\r\n                this.icon = iconLanguageResult.description;\r\n            }\r\n        }\r\n    }\r\n\r\n    public terminate(): void {\r\n        ['mousedown', 'touchstart'].forEach((eventType) => this._applicationElement.removeEventListener(eventType, this._pressEvent));\r\n        ['mouseup', 'touchend', 'touchcancel'].forEach((eventType) => this._applicationElement.removeEventListener(eventType, this._unpressEvent));\r\n    }\r\n\r\n    private _onApplicationClick(): void {\r\n        if (this._appHandler.editMode) {\r\n            this.isDefaultApplication = !this.isDefaultApplication;\r\n            const applicationElement = document.querySelector('[data-applicationid=\\'' + this.applicationId + '\\']');\r\n            applicationElement.className = this.isDefaultApplication ? 'application' : 'application application-not-default';\r\n        }\r\n        else {\r\n            // We do not use \"chained\" return urls as we don't have a back button in the app handler. If we add one, we also need to support that.\r\n            window.location.href = this.locationHref;\r\n        }\r\n    }\r\n}","const randomUUID = typeof crypto !== 'undefined' && crypto.randomUUID && crypto.randomUUID.bind(crypto);\nexport default {\n  randomUUID\n};","// Unique ID creation requires a high quality random # generator. In the browser we therefore\n// require the crypto API and do not support built-in fallback to lower quality random number\n// generators (like Math.random()).\nlet getRandomValues;\nconst rnds8 = new Uint8Array(16);\nexport default function rng() {\n  // lazy load so that environments that need to polyfill have a chance to do so\n  if (!getRandomValues) {\n    // getRandomValues needs to be invoked in a context where \"this\" is a Crypto implementation.\n    getRandomValues = typeof crypto !== 'undefined' && crypto.getRandomValues && crypto.getRandomValues.bind(crypto);\n\n    if (!getRandomValues) {\n      throw new Error('crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported');\n    }\n  }\n\n  return getRandomValues(rnds8);\n}","import validate from './validate.js';\n/**\n * Convert array of 16 byte values to UUID string format of the form:\n * XXXXXXXX-XXXX-XXXX-XXXX-XXXXXXXXXXXX\n */\n\nconst byteToHex = [];\n\nfor (let i = 0; i < 256; ++i) {\n  byteToHex.push((i + 0x100).toString(16).slice(1));\n}\n\nexport function unsafeStringify(arr, offset = 0) {\n  // Note: Be careful editing this code!  It's been tuned for performance\n  // and works in ways you may not expect. See https://github.com/uuidjs/uuid/pull/434\n  return byteToHex[arr[offset + 0]] + byteToHex[arr[offset + 1]] + byteToHex[arr[offset + 2]] + byteToHex[arr[offset + 3]] + '-' + byteToHex[arr[offset + 4]] + byteToHex[arr[offset + 5]] + '-' + byteToHex[arr[offset + 6]] + byteToHex[arr[offset + 7]] + '-' + byteToHex[arr[offset + 8]] + byteToHex[arr[offset + 9]] + '-' + byteToHex[arr[offset + 10]] + byteToHex[arr[offset + 11]] + byteToHex[arr[offset + 12]] + byteToHex[arr[offset + 13]] + byteToHex[arr[offset + 14]] + byteToHex[arr[offset + 15]];\n}\n\nfunction stringify(arr, offset = 0) {\n  const uuid = unsafeStringify(arr, offset); // Consistency check for valid UUID.  If this throws, it's likely due to one\n  // of the following:\n  // - One or more input array values don't map to a hex octet (leading to\n  // \"undefined\" in the uuid)\n  // - Invalid input values for the RFC `version` or `variant` fields\n\n  if (!validate(uuid)) {\n    throw TypeError('Stringified UUID is invalid');\n  }\n\n  return uuid;\n}\n\nexport default stringify;","import native from './native.js';\nimport rng from './rng.js';\nimport { unsafeStringify } from './stringify.js';\n\nfunction v4(options, buf, offset) {\n  if (native.randomUUID && !buf && !options) {\n    return native.randomUUID();\n  }\n\n  options = options || {};\n  const rnds = options.random || (options.rng || rng)(); // Per 4.4, set bits for version and `clock_seq_hi_and_reserved`\n\n  rnds[6] = rnds[6] & 0x0f | 0x40;\n  rnds[8] = rnds[8] & 0x3f | 0x80; // Copy bytes to buffer, if provided\n\n  if (buf) {\n    offset = offset || 0;\n\n    for (let i = 0; i < 16; ++i) {\n      buf[offset + i] = rnds[i];\n    }\n\n    return buf;\n  }\n\n  return unsafeStringify(rnds);\n}\n\nexport default v4;","import { Command, CommunicationHandler } from '../../infrastructure/communication/communication-handler';\r\nimport { Protocol } from '../../infrastructure/communication/protocol';\r\nimport { SettingKey, SettingsReader } from '../../infrastructure/settings-reader';\r\nimport { UrlHelper } from '../../infrastructure/url-helper';\r\nimport { AppSelectorLinkTimer } from './app-selector-link-timer';\r\nimport { ApplicationItem } from './application-item';\r\nimport { v4 as uuidv4 } from 'uuid';\r\n\r\nclass IncomingApplicationDataDisplayName {\r\n    description: string;\r\n    symbol: string;\r\n}\r\n\r\nclass IncomingApplicationDataIcon {\r\n    description: string;\r\n    symbol: string;\r\n}\r\n\r\nexport class IncomingApplicationData {\r\n    displayNames: IncomingApplicationDataDisplayName[];\r\n    icon: IncomingApplicationDataIcon[];\r\n    path: string;\r\n    identifier: string;\r\n    showInApplicationSelector: boolean;\r\n}\r\n\r\nexport class AppHandler {\r\n    private _communicationHandler: CommunicationHandler;\r\n    private _settingsReader: SettingsReader;\r\n    private _forceShowList: boolean = false;\r\n    private _editMode: boolean;\r\n    private _applicationItems: ApplicationItem[] = [];\r\n    private _clientId: string;\r\n\r\n    constructor(communicationHandler: CommunicationHandler, settingsReader: SettingsReader) {\r\n        this._communicationHandler = communicationHandler;\r\n        this._communicationHandler.addOnCommandReceivedDelegate((command: Command, extradata?: object) => this._onCommandReceived(command, extradata));\r\n        this._settingsReader = settingsReader;\r\n        this._settingsReader.addOnSettingsReloadedDelegate(() => this._updateLanguage());\r\n\r\n        try {\r\n            this._clientId = localStorage.getItem('EmpirBusWduClientId');\r\n            if (this._clientId == null) {\r\n                this._clientId = uuidv4();\r\n                localStorage.setItem('EmpirBusWduClientId', this._clientId);\r\n            }\r\n        } catch (error) {\r\n            // If the client doesn't have local storage: continue anyway, but the application selector won't be able save the default applications.\r\n        }\r\n\r\n        this._updateApplicationList([], []);\r\n\r\n        document.querySelector('.application-list-save-button').addEventListener('mousedown', (event) => {\r\n            event.stopPropagation(); // To not trigger link timer.\r\n        });\r\n        document.querySelector('.application-list-save-button').addEventListener('mouseup', (event) => {\r\n            this.saveDefaultApplications();\r\n            event.preventDefault();\r\n        });\r\n        document.querySelector('.application-list-save-button').addEventListener('touchend', (event) => {\r\n            this.saveDefaultApplications();\r\n            event.preventDefault();\r\n        });\r\n\r\n        const urlParams = new URLSearchParams(window.location.search);\r\n        if (urlParams.get('forceShowList') === '1') {\r\n            this._forceShowList = true;\r\n        }\r\n\r\n        document.querySelector('.application-selector-edit-button').addEventListener('mousedown', (event) => {\r\n            event.stopPropagation(); // To not trigger link timer.\r\n        });\r\n        document.querySelector('.application-selector-edit-button').addEventListener('mouseup', (event) => {\r\n            this.editMode = true;\r\n            event.preventDefault();\r\n        });\r\n        document.querySelector('.application-selector-edit-button').addEventListener('touchend', (event) => {\r\n            this.editMode = true;\r\n            event.preventDefault();\r\n        });\r\n\r\n        new AppSelectorLinkTimer(() => {\r\n            this.editMode = true;\r\n        });\r\n    }\r\n\r\n    private _updateLanguage(): void {\r\n        const currentLanguage = this._settingsReader.getSetting(SettingKey.language);\r\n        for (const application of this._applicationItems) {\r\n            application.languageRefresh(currentLanguage);\r\n        }\r\n    }\r\n\r\n    public get clientId(): string {\r\n        return this._clientId;\r\n    }\r\n\r\n    public get editMode(): boolean {\r\n        return this._editMode;\r\n    }\r\n    public set editMode(editMode: boolean) {\r\n        this._editMode = editMode;\r\n        const applicationSelectorElement = document.querySelector('.application-selector');\r\n        if (this._editMode) {\r\n            applicationSelectorElement.classList.add('application-selector-edit-mode');\r\n        }\r\n        else {\r\n            applicationSelectorElement.classList.remove('application-selector-edit-mode');\r\n        }\r\n    }\r\n\r\n    public saveDefaultApplications(): void {\r\n        const defaultApplications: string[] = [];\r\n        for (const application of this._applicationItems) {\r\n            if (application.isDefaultApplication) {\r\n                defaultApplications.push(application.applicationId);\r\n            }\r\n        }\r\n        this._communicationHandler.send(Protocol.applicationSelectorSetDefaultApplication(defaultApplications, this.clientId));\r\n        this.editMode = false;\r\n        this._refreshShowAllIfEmpty();\r\n    }\r\n\r\n    public clearDefaultApplication(): void {\r\n        this._communicationHandler.send(Protocol.applicationSelectorClearDefaultApplication());\r\n    }\r\n\r\n    private _refreshShowAllIfEmpty(): void {\r\n        const applicationSelectorElement = document.querySelector('.application-selector');\r\n        if (this._applicationItems.find(a => a.isDefaultApplication) == null || this._forceShowList) {\r\n            applicationSelectorElement.classList.add('application-selector-show-all');\r\n        }\r\n        else {\r\n            applicationSelectorElement.classList.remove('application-selector-show-all');\r\n        }\r\n    }\r\n\r\n    private _updateApplicationList(availableApplications: IncomingApplicationData[], defaultApplications: string[]): void {\r\n        const currentLanguage = this._settingsReader.getSetting(SettingKey.language);\r\n        for (const application of this._applicationItems) {\r\n            application.terminate();\r\n        }\r\n\r\n        this._applicationItems = [];\r\n        const applicationListElement = document.querySelector('.application-list');\r\n        applicationListElement.innerHTML = '';\r\n\r\n        for (const application of availableApplications) {\r\n            if (!application.showInApplicationSelector) {\r\n                continue;\r\n            }\r\n            const applicationItem = new ApplicationItem(application, this, defaultApplications.find(da => da === application.identifier) !== undefined, currentLanguage);\r\n            this._applicationItems.push(applicationItem);\r\n        }\r\n\r\n        this._refreshShowAllIfEmpty();\r\n    }\r\n\r\n    private _onCommandReceived(command: Command, extradata?: any): void {\r\n        switch (command) {\r\n            case Command.applicationSelectionListReceived:\r\n                {\r\n                    const defaultApplications = extradata.defaultApplications;\r\n\r\n                    if (defaultApplications != null && defaultApplications.length === 1 && !this._forceShowList) {\r\n                        const application = (extradata.availableApplications as IncomingApplicationData[]).find(a => a.identifier === defaultApplications[0]);\r\n                        if (application !== undefined) {\r\n                            window.location.href = AppHandler.getApplicationFullPath(application.path);\r\n                            return;\r\n                        }\r\n                    }\r\n\r\n                    this._updateApplicationList(extradata.availableApplications, extradata.defaultApplications);\r\n                    const applicationSelectorElement = document.querySelector('.application-selector');\r\n                    applicationSelectorElement.classList.remove('hidden');\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    public static getApplicationFullPath(path: string): string {\r\n        const params = new Map();\r\n        params.set('forceShowList', '1');\r\n\r\n        return UrlHelper.getPathWithReturnUrl(path, params);\r\n    }\r\n}\r\n","import { CommunicationHandler } from './communication/communication-handler';\r\nimport { FileLoadHelper } from './file-load-helper';\r\n\r\nexport class NetlistChecksumHandler {\r\n    private _configurationChecksumFromProject: number = null;\r\n    private _communicationHandler: CommunicationHandler;\r\n\r\n    public get configurationChecksumFromWDU(): number {\r\n        return this._communicationHandler.configurationChecksumFromWDU;\r\n    }\r\n\r\n    public get configurationChecksumFromProject(): number {\r\n        return this._configurationChecksumFromProject;\r\n    }\r\n\r\n    constructor(communicationHandler: CommunicationHandler) {\r\n        this._communicationHandler = communicationHandler;\r\n    }\r\n\r\n    public async initialize(): Promise<void> {\r\n        await this._getProjectInfo();\r\n    }\r\n\r\n    public hasBothChecksums(): boolean {\r\n        return this.configurationChecksumFromWDU != null && this._configurationChecksumFromProject != null;\r\n    }\r\n\r\n    public isChecksumValid(): boolean {\r\n        return this.configurationChecksumFromWDU != null\r\n            && this._configurationChecksumFromProject != null\r\n            && this._configurationChecksumFromProject === this.configurationChecksumFromWDU;\r\n    }\r\n\r\n    private async _getProjectInfo(): Promise<void> {\r\n        try {\r\n            const file = await FileLoadHelper.getJsonFile('projectinfo.json');\r\n            // tslint:disable-next-line:no-string-literal\r\n            const checkSum = file['netlistChecksum'];\r\n            this._configurationChecksumFromProject = checkSum == null ? 0 : parseInt(checkSum, 10);\r\n        } catch {\r\n            // nop\r\n        }\r\n    }\r\n}\r\n","import { HtmlHelpers } from './helpers';\r\nimport { CommunicationHandler, Command, WatchdogStates } from '../../infrastructure/communication/communication-handler';\r\nimport { Log } from '../../infrastructure/log';\r\nimport { NetlistChecksumHandler } from '../../infrastructure/netlist-checksum-handler';\r\nexport class PageOverlays {\r\n\r\n    private _overlayWebSocketError: HTMLElement;\r\n    private _overlayBusError: HTMLElement;\r\n    private _overlayStarting: HTMLElement;\r\n    private _overlayReload: HTMLElement;\r\n    private _communicationHandler: CommunicationHandler = null;\r\n    private _netlistChecksumHandler: NetlistChecksumHandler;\r\n    private _overlayWhitePageBlocker: HTMLDivElement;\r\n    private _imagesLoaded: boolean = false;\r\n    private _watchdogState: WatchdogStates;\r\n    private _overlayWarningChecksum: HTMLDivElement;\r\n    private _overlayWarningTest: HTMLDivElement;\r\n    private _showWarnings: boolean = true;\r\n    private _warningHideTimeout: number = 1000 * 60; // ms\r\n    private _hideWarningPressTimeout: number = 1000 * 5; // ms\r\n    private _lastKnownChecksum: number = null;\r\n    private _holdDownTimeout: NodeJS.Timeout = null;\r\n    private _globalMouseUpEvent: (event: Event) => boolean;\r\n\r\n    constructor(communicationHandler: CommunicationHandler, netlistChecksumHandler: NetlistChecksumHandler) {\r\n        this._communicationHandler = communicationHandler;\r\n        this._netlistChecksumHandler = netlistChecksumHandler;\r\n    }\r\n    public initialize(): void {\r\n        this._overlayWebSocketError = document.querySelector('.overlay.overlay-websocket-error');\r\n        this._overlayBusError = document.querySelector('.overlay.overlay-bus-error');\r\n        this._overlayStarting = document.querySelector('.overlay.overlay-start');\r\n        this._overlayReload = document.querySelector('.overlay.overlay-reload');\r\n        this._overlayWhitePageBlocker = document.getElementById('overlay-white-page-blocker') as HTMLDivElement;\r\n        this._overlayWarningChecksum = document.getElementById('checksum-warning-message') as HTMLDivElement;\r\n        this._overlayWarningTest = document.getElementById('test-warning-message') as HTMLDivElement;\r\n\r\n        this._setOverlayStarting(true);\r\n        this._setOverlayWebSocketError(false);\r\n        this._setOverlayBusError(false);\r\n        this._setOverlayReload(false);\r\n\r\n        this._drawOverlayWarnings();\r\n\r\n        this._removeWhitePageBlocker();\r\n        void this._imageLoadedNotifier();\r\n        this._registerWarningTouchEvents();\r\n\r\n        this._communicationHandler.addWatchdogStateChangedDelegate((state: WatchdogStates) => this._onSocketStateChanged(state));\r\n        this._communicationHandler.addOnCommandReceivedDelegate((command: Command) => this._onCommandReceived(command));\r\n\r\n        this._globalMouseUpEvent = (event) => {\r\n            this._buttonUp(event);\r\n            event.preventDefault();\r\n            return false;\r\n        };\r\n    }\r\n    private async _imageLoadedNotifier(): Promise<void> {\r\n        await Promise.all(Array.from(document.images).map(img => {\r\n            if (img.complete)\r\n                return Promise.resolve(img.naturalHeight !== 0);\r\n            return new Promise(resolve => {\r\n                // eslint-disable-next-line no-self-assign\r\n                // TD50: img.src = img.src; // Trigger load when image is loaded from cache.\r\n                img.addEventListener('load', () => resolve(true));\r\n                img.addEventListener('error', () => resolve(false));\r\n            });\r\n        })).then((results) => {\r\n            if (results.every(res => res)) {\r\n                // All images loaded correct\r\n            }\r\n            else {\r\n                // One or more images is done loading got error event.\r\n            }\r\n            this._imagesLoaded = true;\r\n            this._calculateOverlay();\r\n        });\r\n    }\r\n    private _hideWarnings(): void {\r\n        if (!this._showWarnings) {\r\n            return;\r\n        }\r\n        this._showWarnings = false;\r\n        this._drawOverlayWarnings();\r\n        setTimeout(() => {\r\n            this._showWarnings = true;\r\n            this._drawOverlayWarnings();\r\n        }, this._warningHideTimeout);\r\n    }\r\n    private _drawOverlayWarnings(): void {\r\n        this._calculateChecksumWarning();\r\n        this._calculateTestWaring();\r\n    }\r\n\r\n    private _registerWarningTouchEvents(): void {\r\n        ['mousedown', 'touchstart'].forEach(\r\n            (eventType) => {\r\n                this._overlayWarningTest.addEventListener(eventType, (event: Event) => {\r\n                    this._hideWarningsEventListener(event);\r\n                    event.stopPropagation();\r\n                });\r\n\r\n                this._overlayWarningChecksum.addEventListener(eventType, (event: Event) => {\r\n                    this._hideWarningsEventListener(event);\r\n                    event.stopPropagation();\r\n                });\r\n            });\r\n    }\r\n\r\n    private _buttonUp(_event: Event): void {\r\n        document.removeEventListener('mouseup', this._globalMouseUpEvent);\r\n        if (this._holdDownTimeout != null) {\r\n            clearTimeout(this._holdDownTimeout);\r\n            this._holdDownTimeout = null;\r\n            return;\r\n        }\r\n    }\r\n    private _hideWarningsEventListener(event: Event): void {\r\n        if (event.type === 'mousedown') {\r\n            document.addEventListener('mouseup', this._globalMouseUpEvent);\r\n        }\r\n        this._holdDownTimeout = setTimeout(() => this._hideWarnings(), this._hideWarningPressTimeout);\r\n        event.preventDefault();\r\n    }\r\n    private _removeWhitePageBlocker(): void {\r\n        // Inline styled div that blocks white page before css is loaded.\r\n        if (this._overlayWhitePageBlocker != null) {\r\n            this._overlayWhitePageBlocker.remove();\r\n        }\r\n    }\r\n\r\n    private _setOverlayWebSocketError(visible: boolean): void {\r\n        HtmlHelpers.setElementVisibility(this._overlayWebSocketError, visible);\r\n    }\r\n\r\n    private _setOverlayBusError(visible: boolean): void {\r\n        HtmlHelpers.setElementVisibility(this._overlayBusError, visible);\r\n    }\r\n\r\n    private _setOverlayStarting(visible: boolean): void {\r\n        if (this._overlayStarting == null) {\r\n            return;\r\n        }\r\n\r\n        if (visible) {\r\n            HtmlHelpers.showElement(this._overlayStarting);\r\n        }\r\n        else {\r\n            if (this._netlistChecksumHandler.hasBothChecksums()) {\r\n                if (this._netlistChecksumHandler.isChecksumValid()) {\r\n                    HtmlHelpers.hideElement(this._overlayStarting);\r\n                }\r\n                else {\r\n                    HtmlHelpers.showElement(this._overlayStarting.querySelector('.checksum-warning'));\r\n                    setTimeout(() => {\r\n                        HtmlHelpers.hideElement(this._overlayStarting);\r\n                    }, 5000);\r\n                }\r\n            }\r\n            else {\r\n                setTimeout(() => {\r\n                    this._setOverlayStarting(false);\r\n                }, 500);\r\n            }\r\n        }\r\n    }\r\n\r\n    private _setOverlayReload(visible: boolean): void {\r\n        HtmlHelpers.setElementVisibility(this._overlayReload, visible);\r\n    }\r\n\r\n    private _calculateTestWaring(): void {\r\n        if (this._overlayWarningTest != null) {\r\n            const text = this._overlayWarningTest.innerText;\r\n            if (text != null && text.trim().length > 0 && this._showWarnings) {\r\n                HtmlHelpers.setElementVisibility(this._overlayWarningTest, true);\r\n            }\r\n            else {\r\n                HtmlHelpers.setElementVisibility(this._overlayWarningTest, false);\r\n            }\r\n        }\r\n    }\r\n    private _calculateChecksumWarning(): void {\r\n        // if new checksum during hidden warning display it anyways.\r\n        if (this._netlistChecksumHandler.hasBothChecksums()) {\r\n            let showWarnings = this._showWarnings;\r\n            Log.logDebug('show warnings: ' + this._showWarnings)\r\n            if (this._lastKnownChecksum != null && this._lastKnownChecksum !== this._netlistChecksumHandler.configurationChecksumFromWDU) {\r\n                showWarnings = true;\r\n                Log.logDebug('Last known checksum has changed!');\r\n            }\r\n\r\n            if (this._netlistChecksumHandler.isChecksumValid()) {\r\n                this._setChecksumBusError(false);\r\n            }\r\n            else if (showWarnings) {\r\n                Log.logDebug('Configuration checksum from projectinfo: ' + this._netlistChecksumHandler.configurationChecksumFromProject);\r\n                Log.logDebug('Configuration checksum from WDU: ' + this._netlistChecksumHandler.configurationChecksumFromWDU);\r\n                Log.logDebug('Last known checksum: ' + this._lastKnownChecksum);\r\n                this._setChecksumBusError(true);\r\n            } else {\r\n                this._setChecksumBusError(false);\r\n            }\r\n\r\n        }\r\n        this._lastKnownChecksum = this._netlistChecksumHandler.configurationChecksumFromWDU;\r\n    }\r\n    private _setChecksumBusError(visible: boolean): void {\r\n        HtmlHelpers.setElementVisibility(this._overlayWarningChecksum, visible);\r\n    }\r\n\r\n    private _onSocketStateChanged(state: WatchdogStates): void {\r\n        this._watchdogState = state;\r\n        this._calculateOverlay();\r\n    }\r\n\r\n    private _calculateOverlay(): void {\r\n        if (!this._imagesLoaded) {\r\n            return;\r\n        }\r\n        switch (this._watchdogState) {\r\n            case WatchdogStates.ok:\r\n                this._setOverlayWebSocketError(false);\r\n                this._setOverlayBusError(false);\r\n                this._setOverlayStarting(false);\r\n                break;\r\n            case WatchdogStates.noConnectionToWdu:\r\n                this._setOverlayWebSocketError(true);\r\n                this._setOverlayBusError(false);\r\n                break;\r\n            case WatchdogStates.noConnectionToDigitalSwitching:\r\n                this._setOverlayWebSocketError(false);\r\n                this._setOverlayBusError(true);\r\n                break;\r\n        }\r\n    }\r\n\r\n    private _onCommandReceived(command: Command): void {\r\n        switch (command) {\r\n            case Command.forcePageReload:\r\n                this._setOverlayReload(true);\r\n                break;\r\n            case Command.checksumReceived:\r\n                Log.logDebug('Service Provider checksum received');\r\n                this._calculateChecksumWarning();\r\n                break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n}\r\n","import './appselector.scss';\r\nimport { AppSelectorBootstrapper } from './modules/app-selector/app-selector-bootstrapper';\r\nconst bootstrapper = new AppSelectorBootstrapper();\r\ndocument.addEventListener('DOMContentLoaded', () => {\r\n    void bootstrapper.initialize();\r\n});\r\n","import { SocketState, WebSocketManager } from '../../infrastructure/communication/web-socket-manager';\r\nimport { CommunicationHandler } from '../../infrastructure/communication/communication-handler';\r\nimport { Log } from '../../infrastructure/log';\r\nimport { Timer } from '../../infrastructure/timer';\r\nimport { WebSocketContentDecoder } from '../../infrastructure/communication/web-socket-content-decoder';\r\nimport { AppHandler } from './app-handler';\r\nimport { Protocol } from '../../infrastructure/communication/protocol';\r\nimport { SettingsReader } from '../../infrastructure/settings-reader';\r\nimport { NetlistChecksumHandler } from '../../infrastructure/netlist-checksum-handler';\r\nimport { PageOverlays } from '../graphics/page-overlays';\r\n\r\nexport class AppSelectorBootstrapper {\r\n    public async initialize(): Promise<void> {\r\n        const webSocketManager = new WebSocketManager();\r\n        const contentDecoder = new WebSocketContentDecoder();\r\n        await contentDecoder.initialize(false);\r\n        const communicationHandler = new CommunicationHandler(webSocketManager, contentDecoder);\r\n        const netlistChecksumHandler = new NetlistChecksumHandler(communicationHandler);\r\n        await netlistChecksumHandler.initialize();\r\n        const settingsReader = new SettingsReader(communicationHandler);\r\n        await settingsReader.load();\r\n        const pageOverlays = new PageOverlays(communicationHandler, netlistChecksumHandler);\r\n        pageOverlays.initialize();\r\n        const appHandler = new AppHandler(communicationHandler, settingsReader);\r\n\r\n        Timer.start();\r\n\r\n        webSocketManager.addOnSocketStateChangedDelegate((state: SocketState) => {\r\n            if (state === SocketState.open) {\r\n                webSocketManager.sendJson(Protocol.requestApplicationSelectorInfoAvailableApplications(appHandler.clientId));\r\n            }\r\n        });\r\n        webSocketManager.connect();\r\n\r\n        // Log.logLevel = LogLevel.info;\r\n        // Log.autoRefresh = true;\r\n        Log.initialize();\r\n\r\n        // Hide startup logger button\r\n        onSystemHasStarted();\r\n        // Log.showLogView();\r\n    }\r\n}\r\n\r\n"],"names":["___CSS_LOADER_URL_IMPORT_0___","URL","___CSS_LOADER_URL_IMPORT_1___","___CSS_LOADER_URL_IMPORT_2___","___CSS_LOADER_URL_IMPORT_3___","___CSS_LOADER_EXPORT___","___CSS_LOADER_URL_REPLACEMENT_0___","___CSS_LOADER_URL_REPLACEMENT_1___","___CSS_LOADER_URL_REPLACEMENT_2___","___CSS_LOADER_URL_REPLACEMENT_3___","push","module","id","exports","cssWithMappingToString","list","toString","this","map","item","content","needLayer","concat","length","join","i","modules","media","dedupe","supports","layer","undefined","alreadyImportedModules","k","_k","url","options","String","__esModule","default","test","slice","hash","needQuotes","replace","stylesInDOM","getIndexByIdentifier","identifier","result","modulesToDom","idCountMap","identifiers","base","count","indexByIdentifier","obj","css","sourceMap","references","updater","addElementStyle","byIndex","splice","api","domAPI","update","newObj","remove","lastIdentifiers","newList","index","newLastIdentifiers","_i","_index","memo","insert","style","target","styleTarget","document","querySelector","window","HTMLIFrameElement","contentDocument","head","e","getTarget","Error","appendChild","element","createElement","setAttributes","attributes","styleElement","nonce","setAttribute","insertStyleElement","btoa","unescape","encodeURIComponent","JSON","stringify","styleTagTransform","apply","parentNode","removeChild","removeStyleElement","styleSheet","cssText","firstChild","createTextNode","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","m","n","getter","d","a","definition","key","o","Object","defineProperty","enumerable","get","prop","prototype","hasOwnProperty","call","p","b","baseURI","self","location","href","nc","__awaiter","thisArg","_arguments","P","generator","Promise","resolve","reject","fulfilled","value","step","next","rejected","done","then","create","LogLevel","SocketState","MfdStatusType","MessageTypeCode","SystemCommandTypes","MfdStatusCommandTypes","NmeaMessageCommandTypes","ClientControlCommands","AcknowlegementCommands","ValueDataType","ExpressionType","Command","WatchdogStates","SignalInfoType","SettingKey","Log","static","message","optionalParams","logLevel","error","console","_checkAutoRefresh","autoRefresh","_populateLog","warning","log","info","verbose","debug","_isInitialized","addEventListener","_event","_handleStartLogView","event","_debugModeActive","ctrlKey","altKey","showLogView","loggerDiv","_setupLogView","display","_state","_shortPressCount","innerHTML","globalLogMessages","button","innerText","_lastClick","Date","_durationGreaterThan","_activateDuration","_clickStart","_requiredShortPressCount","limit","timeToCompare","getTime","body","classList","add","off","onchange","selector","parseInt","onclick","_closeLog","_clearLog","_mimimizeLog","_maximizeLog","_setAutoRefreshLog","loggerContent","node","textNode","WebSocketManager","currentState","notSet","autoReconnectOnError","_webSocket","_onMessageDelegates","_onSocketStateChangesDelegates","connect","_createNewWebSocket","addOnDataReceivedDelegate","delegate","removeOnDataReceivedDelegate","addOnSocketStateChangedDelegate","removeOnSocketStateChangedDelegate","sendJson","data","send","readyState","OPEN","logWarning","logDebug","CONNECTING","close","_onSocketClosed","WebSocket","host","onopen","_onOpen","onmessage","_onMessageReceived","onerror","_onSocketError","onclose","_onSocketStateChanged","connecting","parse","messagecmd","messagetype","size","logError","socketError","closed","open","state","_notifySocketStateSubscribers","Protocol","acknowledgement","acknowledgementAck","clientId","extradata","type","applicationIds","systemWrite","ebpComponentId","pressed","toggleOn","set","reset","cmdToSend","setResetCmd","StatusUpdateDataContent","equals","other","signalId","unavailable","valueTypeIdentifier","MfdStatusUpdateDataContent","onOffStatus","err1FT","err2UC","dimmerValue","Timer","_isStarted","setInterval","_incrementTicks","_ticks","ticks","CommunicationHandler","constructor","webSocketManager","contentDecoder","configurationChecksumFromWDU","watchdogState","_webSocketManager","_nmeaValueReceivedDelegatesMap","Map","_mdfValueReceivedDelegatesMap","_onWatchdogStateChangesDelegates","_commandReceivedDelegates","_digitalSwitchingHeartbeatTimestamp","_lastReceivedMessageTimestamp","_oldHeartbeatDurationDivider","_watchdogDuration","_protocolVersion","_wduInfoReceived","_receivedNmeaDataMap","_receivedMfdDataMap","_contentDecoder","timestamp","setTimeout","_watchdogLoop","getProtocolVersion","addOnNmeaValueReceivedDelegate","delegates","has","addOnMfdValueReceivedDelegate","addOnCommandReceivedDelegate","addWatchdogStateChangedDelegate","removeOnWathdogStateChangedDelegate","command","_notifyMdfValueSubscribers","_isNewMfdData","_notifyNmeaValueSubscribers","_isNewNmeaData","mfdStatus","_propagateMfdMessage","decodeMFDChannelItem","nmeaMsg","_propagateNmeaMessage","decodeN2KDataItem","systemCmd","wduInfo","_wduSendsHeartbeat","logVerbose","wduInfoReceived","serviceProviderHeartbeat","_checkWatchdog","checksumReceived","wduHeartbeat","receivedWduHeartbetAckCommand","wduSettingsUpdated","settingsUpdated","applicationSelection","applicationSelectionListReceived","clientControlCommand","forceReload","forcePageReload","reload","virtualSignals","getVirtualSignals","virtualSignal","vData","_evaluate","unAvailableExpression","statusExpression","momentary","signalValue","expression","expressionType","disabled","equal","valueA","notEqual","greaterThan","lessThan","greaterThanOrEqual","lessThanOrEqual","between","valueB","notBetween","_onWatchdogStateChanged","logInfo","_requestWduInfo","requestWduInfoCommand","nextDelay","elapsedSeconds","noConnectionToWdu","noConnectionToDigitalSwitching","ok","FileLoadHelper","xhr","method","onload","status","response","statusText","ev","fileName","XMLHttpRequest","overrideMimeType","responseType","retryPromise","fn","retries","interval","r","WebSocketContentDecoder","_nmeaSignalInfoMap","_virtualSignalInfoMap","useChannelItems","_useChannelItems","wsMessage","statusUpdate","nmeaStatusContent","_getValue","_getInt32Value","toggle","pulse","dimmerUpdate","dimmer","sourceSignalId","res","_signalId","source","startIndex","buffer","Uint8Array","DataView","getInt32","dataView2","dataType","int32","mapDt","int8","getInt8","uint8","getUint8","int16","getInt16","uint16","getUint16","uint32","getUint32","int64","Number","getBigInt64","valueOf","uint64","getBigUint64","bit","initialize","useChannelItemsFile","file","getJsonFile","filter","nmea","virtual","SettingsReader","communicationHandler","_settings","_communicationHandler","_onSettingsChangedDelegate","_onCommandReceived","load","setting","Settings","isExternalSetting","isOverridden","settings","isLoaded","getSetting","find","s","title","currentSetting","symbol","addOnSettingsReloadedDelegate","UrlHelper","includes","urlParts","split","retValue","forEach","urlPart","substring","param","paramValue","cleanUrl","searchParams","removeUrlParameterHref","history","pushState","delete","path","extraReturnUrlParams","append","navigationUrl","pageId","settingsUrl","urlHref","appUrl","returnUrls","getAll","encodedAppUrl","urlAppends","HtmlHelpers","visible","showElement","hideElement","func","wait","immediate","timeout","context","args","arguments","callNow","clearTimeout","AppSelectorLinkTimer","onExecute","active","spinner","_onExecute","_timeout","_globalMouseUpEvent","_globalMouseMoveEvent","activate","clientX","clientY","_globalTouchEndEvent","_globalTouchMoveEvent","passive","evt","originalEvent","touches","deactivate","removeEventListener","isMoveDistanceTooLong","posX","posY","zoom","getComputedStyle","getPropertyValue","isNaN","left","top","startPosX","startPosY","Math","sqrt","pow","ApplicationItem","appHandler","isDefaultApplication","currentLanguage","_appHandler","languageDisplayNames","displayNames","languageIcons","icon","_setLanguageProperties","locationHref","AppHandler","getApplicationFullPath","applicationId","_applicationElement","className","dataset","applicationid","applicationIconElement","applicationIconImgElement","src","applicationNameElement","name","_pressEvent","_pressActive","eventType","_unpressEvent","stopPropagation","_onApplicationClick","preventDefault","_onTouchMove","languageRefresh","nameLanguageResult","ldn","nameDefaultResult","description","iconLanguageResult","iconDefaultResult","terminate","editMode","randomUUID","crypto","bind","getRandomValues","rnds8","rng","byteToHex","unsafeStringify","arr","offset","buf","rnds","random","settingsReader","_forceShowList","_applicationItems","_settingsReader","_updateLanguage","_clientId","localStorage","getItem","setItem","_updateApplicationList","saveDefaultApplications","URLSearchParams","search","language","application","_editMode","applicationSelectorElement","defaultApplications","applicationSelectorSetDefaultApplication","_refreshShowAllIfEmpty","clearDefaultApplication","applicationSelectorClearDefaultApplication","availableApplications","showInApplicationSelector","applicationItem","da","params","getPathWithReturnUrl","NetlistChecksumHandler","configurationChecksumFromProject","_configurationChecksumFromProject","_getProjectInfo","hasBothChecksums","isChecksumValid","checkSum","PageOverlays","netlistChecksumHandler","_imagesLoaded","_showWarnings","_warningHideTimeout","_hideWarningPressTimeout","_lastKnownChecksum","_holdDownTimeout","_netlistChecksumHandler","_overlayWebSocketError","_overlayBusError","_overlayStarting","_overlayReload","_overlayWhitePageBlocker","getElementById","_overlayWarningChecksum","_overlayWarningTest","_setOverlayStarting","_setOverlayWebSocketError","_setOverlayBusError","_setOverlayReload","_drawOverlayWarnings","_removeWhitePageBlocker","_imageLoadedNotifier","_registerWarningTouchEvents","_buttonUp","all","Array","from","images","img","complete","naturalHeight","results","every","_calculateOverlay","_hideWarnings","_calculateChecksumWarning","_calculateTestWaring","_hideWarningsEventListener","setElementVisibility","text","trim","showWarnings","_setChecksumBusError","_watchdogState","bootstrapper","start","requestApplicationSelectorInfoAvailableApplications","onSystemHasStarted"],"sourceRoot":""}